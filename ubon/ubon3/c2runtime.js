// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,E,ca,L,ea,fa,M,P,ga,ha,ja,ma,na,Q,oa,ra,S,sa,ta,ua,va,wa,xa,za,T,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,V,Ia,Ja,Ka,La,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,W,Lb,Mb,X,Nb,Ob={},Pb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(l){return l.__proto__}:function(l){return l.constructor.prototype});
(function(){function l(e,n,a,q){this.set(e,n,a,q)}function h(){this.lb=this.kb=this.nb=this.mb=this.Bb=this.Ab=this.jb=this.ib=0}function p(e,n,a,q){e<n?a<q?(w=e<a?e:a,u=n>q?n:q):(w=e<q?e:q,u=n>a?n:a):a<q?(w=n<a?n:a,u=e>q?e:q):(w=n<q?n:q,u=e>a?e:a)}function t(){this.items=this.Ob=null;this.pe=0;J&&(this.Ob=new Set);this.Ie=[];this.Sc=!0}function v(e){x[U++]=e}function d(){this.oa=this.Og=this.y=this.ih=0}function c(e){this.we=[];this.nj=this.pj=this.qj=this.oj=0;this.Ff(e)}function b(e,a){this.nh=
e;this.mh=a;this.cells={}}function f(e,a){this.nh=e;this.mh=a;this.cells={}}function g(e,a,n){var q;return Z.length?(q=Z.pop(),q.Ph=e,q.x=a,q.y=n,q):new ba(e,a,n)}function a(e,a,n){this.Ph=e;this.x=a;this.y=n;this.ma=new E}function k(e,a,n){var q;return F.length?(q=F.pop(),q.Ph=e,q.x=a,q.y=n,q):new ca(e,a,n)}function r(e,a,n){this.Ph=e;this.x=a;this.y=n;this.ma=[];this.ne=!0;this.cc=new E;this.Me=!1}function m(e,a){return e.Rb-a.Rb}L=function(e){window.console&&window.console.log&&window.console.log(e)};
ea=function(e){window.console&&window.console.error&&window.console.error(e)};fa=function(e){return"undefined"===typeof e};M=function(e){return"number"===typeof e};P=function(e){return"string"===typeof e};ga=function(e){return 0<e&&0===(e-1&e)};ha=function(e){--e;for(var a=1;32>a;a<<=1)e=e|e>>a;return e+1};ja=function(e){return 0>e?-e:e};ma=function(e,a){return e<a?e:a};na=Math.PI;Q=function(e){return 0<=e?e|0:(e|0)-1};oa=function(e){var a=e|0;return a===e?a:a+1};ra=function(e,a,n,q,b,c,k,d){var m,
f,C,g;e<n?(f=e,m=n):(f=n,m=e);b<k?(g=b,C=k):(g=k,C=b);if(m<g||f>C)return!1;a<q?(f=a,m=q):(f=q,m=a);c<d?(g=c,C=d):(g=d,C=c);if(m<g||f>C)return!1;m=b-e+k-n;f=c-a+d-q;e=n-e;a=q-a;b=k-b;c=d-c;d=ja(a*b-c*e);return ja(b*f-c*m)>d?!1:ja(e*f-a*m)<=d};l.prototype.set=function(e,a,n,q){this.left=e;this.top=a;this.right=n;this.bottom=q};l.prototype.Qf=function(e){this.left=e.left;this.top=e.top;this.right=e.right;this.bottom=e.bottom};l.prototype.width=function(){return this.right-this.left};l.prototype.height=
function(){return this.bottom-this.top};l.prototype.offset=function(e,a){this.left+=e;this.top+=a;this.right+=e;this.bottom+=a;return this};l.prototype.normalize=function(){var e=0;this.left>this.right&&(e=this.left,this.left=this.right,this.right=e);this.top>this.bottom&&(e=this.top,this.top=this.bottom,this.bottom=e)};l.prototype.ob=function(e,a){return e>=this.left&&e<=this.right&&a>=this.top&&a<=this.bottom};l.prototype.Wf=function(e){return this.left===e.left&&this.top===e.top&&this.right===
e.right&&this.bottom===e.bottom};S=l;h.prototype.Kg=function(e){this.ib=e.left;this.jb=e.top;this.Ab=e.right;this.Bb=e.top;this.mb=e.right;this.nb=e.bottom;this.kb=e.left;this.lb=e.bottom};h.prototype.ol=function(e,a){if(0===a)this.Kg(e);else{var n=Math.sin(a),q=Math.cos(a),b=e.left*n,c=e.top*n,k=e.right*n,n=e.bottom*n,d=e.left*q,m=e.top*q,f=e.right*q,q=e.bottom*q;this.ib=d-c;this.jb=m+b;this.Ab=f-c;this.Bb=m+k;this.mb=f-n;this.nb=q+k;this.kb=d-n;this.lb=q+b}};h.prototype.offset=function(e,a){this.ib+=
e;this.jb+=a;this.Ab+=e;this.Bb+=a;this.mb+=e;this.nb+=a;this.kb+=e;this.lb+=a;return this};var w=0,u=0;h.prototype.sj=function(e){p(this.ib,this.Ab,this.mb,this.kb);e.left=w;e.right=u;p(this.jb,this.Bb,this.nb,this.lb);e.top=w;e.bottom=u};h.prototype.ob=function(e,a){var n=this.ib,q=this.jb,b=this.Ab-n,c=this.Bb-q,k=this.mb-n,d=this.nb-q,m=e-n,f=a-q,C=b*b+c*c,g=b*k+c*d,c=b*m+c*f,r=k*k+d*d,w=k*m+d*f,x=1/(C*r-g*g),b=(r*c-g*w)*x,C=(C*w-g*c)*x;if(0<=b&&0<C&&1>b+C)return!0;b=this.kb-n;c=this.lb-q;C=b*
b+c*c;g=b*k+c*d;c=b*m+c*f;x=1/(C*r-g*g);b=(r*c-g*w)*x;C=(C*w-g*c)*x;return 0<=b&&0<C&&1>b+C};sa=h;ta=function(e,a){for(var n in a)a.hasOwnProperty(n)&&(e[n]=a[n]);return e};ua=function(e,a){var n,q;a=Q(a);if(!(0>a||a>=e.length)){n=a;for(q=e.length-1;n<q;n++)e[n]=e[n+1];e.length=q}};va=function(e,a){e.length=a.length;var n,q;n=0;for(q=a.length;n<q;n++)e[n]=a[n]};wa=function(e,a){e.push.apply(e,a)};xa=function(e,a){var n,q;n=0;for(q=e.length;n<q;++n)if(e[n]===a)return n;return-1};za=function(e,a){var n=
xa(e,a);-1!==n&&ua(e,n)};T=function(e){return e/(180/na)};Aa=function(e){return 180/na*e};Ba=function(e){e%=360;0>e&&(e+=360);return e};Ca=function(e){e%=2*na;0>e&&(e+=2*na);return e};Da=function(e){return Ba(Aa(e))};Ea=function(e){return Ca(T(e))};Fa=function(e,a,n,q){return Math.atan2(q-a,n-e)};Ga=function(e,a){if(e===a)return 0;var n=Math.sin(e),q=Math.cos(e),b=Math.sin(a),c=Math.cos(a),n=n*b+q*c;return 1<=n?0:-1>=n?na:Math.acos(n)};Ha=function(e,a,n){var q=Math.sin(e),b=Math.cos(e),c=Math.sin(a),
k=Math.cos(a);return Math.acos(q*c+b*k)>n?0<b*c-q*k?Ca(e+n):Ca(e-n):Ca(a)};V=function(e,a){var n=Math.sin(e),q=Math.cos(e),b=Math.sin(a),c=Math.cos(a);return 0>=q*b-n*c};Ia=function(e,a,n,q){e=n-e;a=q-a;return Math.sqrt(e*e+a*a)};Ja=function(e,a){return!e!==!a};Ka=function(e){for(var a in e)if(e.hasOwnProperty(a))return!0;return!1};La=function(e){for(var a in e)e.hasOwnProperty(a)&&delete e[a]};var n=+new Date;Na=function(){if("undefined"!==typeof window.performance){var e=window.performance;if("undefined"!==
typeof e.now)return e.now();if("undefined"!==typeof e.webkitNow)return e.webkitNow();if("undefined"!==typeof e.mozNow)return e.mozNow();if("undefined"!==typeof e.msNow)return e.msNow()}return Date.now()-n};var e=!1,q=e=!1,C=!1;"undefined"!==typeof window&&(e=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),e=!e&&/safari/i.test(navigator.userAgent),q=/(iphone|ipod|ipad)/i.test(navigator.userAgent),C=window.c2ejecta);var J=!e&&!C&&!q&&"undefined"!==typeof Set&&"undefined"!==
typeof Set.prototype.forEach;t.prototype.contains=function(e){return this.wc()?!1:J?this.Ob.has(e):this.items&&this.items.hasOwnProperty(e)};t.prototype.add=function(e){if(J)this.Ob.has(e)||(this.Ob.add(e),this.Sc=!1);else{var a=e.toString(),n=this.items;n?n.hasOwnProperty(a)||(n[a]=e,this.pe++,this.Sc=!1):(this.items={},this.items[a]=e,this.pe=1,this.Sc=!1)}};t.prototype.remove=function(e){if(!this.wc())if(J)this.Ob.has(e)&&(this.Ob["delete"](e),this.Sc=!1);else if(this.items){e=e.toString();var a=
this.items;a.hasOwnProperty(e)&&(delete a[e],this.pe--,this.Sc=!1)}};t.prototype.clear=function(){this.wc()||(J?this.Ob.clear():(this.items=null,this.pe=0),this.Ie.length=0,this.Sc=!0)};t.prototype.wc=function(){return 0===this.count()};t.prototype.count=function(){return J?this.Ob.size:this.pe};var x=null,U=0;t.prototype.Gp=function(){if(!this.Sc){if(J)this.Ie.length=this.Ob.size,x=this.Ie,U=0,this.Ob.forEach(v),x=null,U=0;else{var e=this.Ie;e.length=this.pe;var a,n=0,q=this.items;if(q)for(a in q)q.hasOwnProperty(a)&&
(e[n++]=q[a])}this.Sc=!0}};t.prototype.rd=function(){this.Gp();return this.Ie};E=t;new E;Oa=function(e,a){J?Pa(e,a.Ob):Qa(e,a.rd())};Pa=function(e,a){var n,q,b,c;q=n=0;for(b=e.length;n<b;++n)c=e[n],a.has(c)||(e[q++]=c);e.length=q};Qa=function(e,a){var n,q,b,c;q=n=0;for(b=e.length;n<b;++n)c=e[n],-1===xa(a,c)&&(e[q++]=c);e.length=q};d.prototype.add=function(e){this.y=e-this.ih;this.Og=this.oa+this.y;this.ih=this.Og-this.oa-this.y;this.oa=this.Og};d.prototype.reset=function(){this.oa=this.Og=this.y=
this.ih=0};Ra=d;Sa=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};c.prototype.Ff=function(e){this.dl=e;this.Fg=e.length/2;this.we.length=e.length;this.jh=this.kh=-1;this.vj=0};c.prototype.Lo=function(){return!this.dl.length};c.prototype.pa=function(){for(var e=this.we,a=e[0],n=a,q=e[1],b=q,c,k,d=1,m=this.Fg;d<m;++d)k=2*d,c=e[k],k=e[k+1],c<a&&(a=c),c>n&&(n=c),k<q&&(q=k),k>b&&(b=k);this.oj=a;this.pj=n;this.qj=q;this.nj=b};c.prototype.Kg=function(e,a,n){this.we.length=8;this.Fg=4;var q=
this.we;q[0]=e.left-a;q[1]=e.top-n;q[2]=e.right-a;q[3]=e.top-n;q[4]=e.right-a;q[5]=e.bottom-n;q[6]=e.left-a;q[7]=e.bottom-n;this.kh=e.right-e.left;this.jh=e.bottom-e.top;this.pa()};c.prototype.Mm=function(e,a,n){if(this.kh!==e||this.jh!==a||this.vj!==n){this.kh=e;this.jh=a;this.vj=n;var q,b,c,k,d,m=0,f=1,C=this.dl,g=this.we;0!==n&&(m=Math.sin(n),f=Math.cos(n));n=0;for(c=this.Fg;n<c;n++)q=2*n,b=q+1,k=C[q]*e,d=C[b]*a,g[q]=k*f-d*m,g[b]=d*f+k*m;this.pa()}};c.prototype.ob=function(e,a){var n=this.we;if(e===
n[0]&&a===n[1])return!0;var q,b,c,k=this.Fg,d=this.oj-110,m=this.qj-101,f=this.pj+131,C=this.nj+120,g,r,w=0,x=0;for(q=0;q<k;q++)b=2*q,c=(q+1)%k*2,g=n[b],b=n[b+1],r=n[c],c=n[c+1],ra(d,m,e,a,g,b,r,c)&&w++,ra(f,C,e,a,g,b,r,c)&&x++;return 1===w%2||1===x%2};Ta=c;b.prototype.Xc=function(e,a,n){var q;q=this.cells[e];return q?(q=q[a])?q:n?(q=g(this,e,a),this.cells[e][a]=q):null:n?(q=g(this,e,a),this.cells[e]={},this.cells[e][a]=q):null};b.prototype.Ya=function(e){return Q(e/this.nh)};b.prototype.Za=function(e){return Q(e/
this.mh)};b.prototype.update=function(e,a,n){var q,b,c,k,d;if(a)for(q=a.left,b=a.right;q<=b;++q)for(c=a.top,k=a.bottom;c<=k;++c)if(!n||!n.ob(q,c))if(d=this.Xc(q,c,!1))d.remove(e),d.wc()&&(d.ma.clear(),1E3>Z.length&&Z.push(d),this.cells[q][c]=null);if(n)for(q=n.left,b=n.right;q<=b;++q)for(c=n.top,k=n.bottom;c<=k;++c)a&&a.ob(q,c)||this.Xc(q,c,!0).Wh(e)};b.prototype.fl=function(e,a){var n,q,b,c,k,d;n=this.Ya(e.left);b=this.Za(e.top);q=this.Ya(e.right);for(k=this.Za(e.bottom);n<=q;++n)for(c=b;c<=k;++c)(d=
this.Xc(n,c,!1))&&d.dump(a)};Ua=b;f.prototype.Xc=function(e,a,n){var q;q=this.cells[e];return q?(q=q[a])?q:n?(q=k(this,e,a),this.cells[e][a]=q):null:n?(q=k(this,e,a),this.cells[e]={},this.cells[e][a]=q):null};f.prototype.Ya=function(e){return Q(e/this.nh)};f.prototype.Za=function(e){return Q(e/this.mh)};f.prototype.update=function(e,a,n){var q,b,c,k,d;if(a)for(q=a.left,b=a.right;q<=b;++q)for(c=a.top,k=a.bottom;c<=k;++c)if(!n||!n.ob(q,c))if(d=this.Xc(q,c,!1))d.remove(e),d.wc()&&(d.reset(),1E3>F.length&&
F.push(d),this.cells[q][c]=null);if(n)for(q=n.left,b=n.right;q<=b;++q)for(c=n.top,k=n.bottom;c<=k;++c)a&&a.ob(q,c)||this.Xc(q,c,!0).Wh(e)};f.prototype.fl=function(e,a,n,q,b){var c,k;e=this.Ya(e);a=this.Za(a);n=this.Ya(n);for(c=this.Za(q);e<=n;++e)for(q=a;q<=c;++q)(k=this.Xc(e,q,!1))&&k.dump(b)};f.prototype.Ro=function(e){var a,n,q,b,c;a=e.left;q=e.top;n=e.right;for(b=e.bottom;a<=n;++a)for(e=q;e<=b;++e)if(c=this.Xc(a,e,!1))c.ne=!1};Va=f;var Z=[];a.prototype.wc=function(){return this.ma.wc()};a.prototype.Wh=
function(e){this.ma.add(e)};a.prototype.remove=function(e){this.ma.remove(e)};a.prototype.dump=function(e){wa(e,this.ma.rd())};ba=a;var F=[];r.prototype.wc=function(){if(!this.ma.length)return!0;if(this.ma.length>this.cc.count())return!1;this.Dh();return!0};r.prototype.Wh=function(e){this.cc.contains(e)?(this.cc.remove(e),this.cc.wc()&&(this.Me=!1)):this.ma.length?(this.ma[this.ma.length-1].Yb()>e.Yb()&&(this.ne=!1),this.ma.push(e)):(this.ma.push(e),this.ne=!0)};r.prototype.remove=function(e){this.cc.add(e);
this.Me=!0;30<=this.cc.count()&&this.Dh()};r.prototype.Dh=function(){this.Me&&(this.cc.count()===this.ma.length?this.reset():(Oa(this.ma,this.cc),this.cc.clear(),this.Me=!1))};r.prototype.sn=function(){this.ne||(this.ma.sort(m),this.ne=!0)};r.prototype.reset=function(){this.ma.length=0;this.ne=!0;this.cc.clear();this.Me=!1};r.prototype.dump=function(e){this.Dh();this.sn();this.ma.length&&e.push(this.ma)};ca=r;var A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Wa=function(e){return 0>=e||11<=e?"source-over":A[e-1]};Xa=function(e,a,n){if(n)switch(e.Ca=n.ONE,e.ya=n.ONE_MINUS_SRC_ALPHA,a){case 1:e.Ca=n.ONE;e.ya=n.ONE;break;case 3:e.Ca=n.ONE;e.ya=n.ZERO;break;case 4:e.Ca=n.ONE_MINUS_DST_ALPHA;e.ya=n.ONE;break;case 5:e.Ca=n.DST_ALPHA;e.ya=n.ZERO;break;case 6:e.Ca=n.ZERO;e.ya=n.SRC_ALPHA;break;case 7:e.Ca=n.ONE_MINUS_DST_ALPHA;e.ya=n.ZERO;break;case 8:e.Ca=n.ZERO;e.ya=n.ONE_MINUS_SRC_ALPHA;break;case 9:e.Ca=n.DST_ALPHA;e.ya=n.ONE_MINUS_SRC_ALPHA;break;case 10:e.Ca=
n.ONE_MINUS_DST_ALPHA,e.ya=n.SRC_ALPHA}};Ya=function(e){return Math.round(1E6*e)/1E6};Za=function(e,a){return"string"!==typeof e||"string"!==typeof a||e.length!==a.length?!1:e===a?!0:e.toLowerCase()===a.toLowerCase()};$a=function(e){e=e.target;return!e||e===document||e===window||document&&document.body&&e===document.body||Za(e.tagName,"canvas")?!0:!1}})();var Qb="undefined"!==typeof Float32Array?Float32Array:Array;function Rb(l){var h=new Qb(3);l&&(h[0]=l[0],h[1]=l[1],h[2]=l[2]);return h}
function Sb(l){var h=new Qb(16);l&&(h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=l[6],h[7]=l[7],h[8]=l[8],h[9]=l[9],h[10]=l[10],h[11]=l[11],h[12]=l[12],h[13]=l[13],h[14]=l[14],h[15]=l[15]);return h}function Tb(l,h){h[0]=l[0];h[1]=l[1];h[2]=l[2];h[3]=l[3];h[4]=l[4];h[5]=l[5];h[6]=l[6];h[7]=l[7];h[8]=l[8];h[9]=l[9];h[10]=l[10];h[11]=l[11];h[12]=l[12];h[13]=l[13];h[14]=l[14];h[15]=l[15]}
function Ub(l,h){var p=h[0],t=h[1];h=h[2];l[0]*=p;l[1]*=p;l[2]*=p;l[3]*=p;l[4]*=t;l[5]*=t;l[6]*=t;l[7]*=t;l[8]*=h;l[9]*=h;l[10]*=h;l[11]*=h}
function Vb(l,h,p,t){t||(t=Sb());var v,d,c,b,f,g,a,k,r=l[0],m=l[1];l=l[2];d=p[0];c=p[1];v=p[2];p=h[1];g=h[2];r===h[0]&&m===p&&l===g?(l=t,l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1):(p=r-h[0],g=m-h[1],a=l-h[2],k=1/Math.sqrt(p*p+g*g+a*a),p*=k,g*=k,a*=k,h=c*a-v*g,v=v*p-d*a,d=d*g-c*p,(k=Math.sqrt(h*h+v*v+d*d))?(k=1/k,h*=k,v*=k,d*=k):d=v=h=0,c=g*d-a*v,b=a*h-p*d,f=p*v-g*h,(k=Math.sqrt(c*c+b*b+f*f))?(k=1/k,c*=k,b*=k,f*=k):f=b=c=0,
t[0]=h,t[1]=c,t[2]=p,t[3]=0,t[4]=v,t[5]=b,t[6]=g,t[7]=0,t[8]=d,t[9]=f,t[10]=a,t[11]=0,t[12]=-(h*r+v*m+d*l),t[13]=-(c*r+b*m+f*l),t[14]=-(p*r+g*m+a*l),t[15]=1)}
(function(){function l(d){this.Zc=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.wj=Rb([0,0,100]);this.tk=Rb([0,0,0]);this.Ol=Rb([0,1,0]);this.aj=Rb([1,1,1]);this.Ej=!0;this.ni=Sb();this.tb=Sb();this.kk=Sb();this.uh=Sb();this.g=d;this.Xj()}function h(d,c,b){this.g=d;this.Gf=c;this.name=b;this.sb=d.getAttribLocation(c,"aPos");this.fd=d.getAttribLocation(c,"aTex");this.rk=d.getUniformLocation(c,"matP");this.xg=d.getUniformLocation(c,"matMV");this.re=
d.getUniformLocation(c,"opacity");this.sk=d.getUniformLocation(c,"samplerFront");this.uf=d.getUniformLocation(c,"samplerBack");this.Pd=d.getUniformLocation(c,"destStart");this.Od=d.getUniformLocation(c,"destEnd");this.li=d.getUniformLocation(c,"seconds");this.ki=d.getUniformLocation(c,"pixelWidth");this.ji=d.getUniformLocation(c,"pixelHeight");this.tf=d.getUniformLocation(c,"layerScale");this.sf=d.getUniformLocation(c,"layerAngle");this.wf=d.getUniformLocation(c,"viewOrigin");this.vf=d.getUniformLocation(c,
"scrollPos");this.Bo=!!(this.ki||this.ji||this.li||this.uf||this.Pd||this.Od||this.tf||this.sf||this.wf||this.vf);this.Bk=this.Ck=-999;this.zg=1;this.xk=this.wk=0;this.zk=this.vk=this.uk=1;this.Ek=this.Dk=this.Gk=this.Fk=this.yk=0;this.ei=[];this.Ak=Sb();this.re&&d.uniform1f(this.re,1);this.sk&&d.uniform1i(this.sk,0);this.uf&&d.uniform1i(this.uf,1);this.Pd&&d.uniform2f(this.Pd,0,0);this.Od&&d.uniform2f(this.Od,1,1);this.tf&&d.uniform1f(this.tf,1);this.sf&&d.uniform1f(this.sf,0);this.wf&&d.uniform2f(this.wf,
0,0);this.vf&&d.uniform2f(this.vf,0,0);this.Fd=!1}function p(d,c){this.type=d;this.m=c;this.g=c.g;this.Zb=this.xb=this.Uk=0;this.K=this.zb=null;this.pl=[]}l.prototype.Xj=function(){var d=this.g,c;this.lk=1;this.Kd=this.dd=null;this.Uf=1;d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.enable(d.BLEND);d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA);d.disable(d.CULL_FACE);d.disable(d.DEPTH_TEST);this.mk=d.ONE;this.jk=d.ONE_MINUS_SRC_ALPHA;this.Wg=new Float32Array(16E3);this.Pg=new Float32Array(16E3);this.Zk=
new Float32Array(32E3);this.vi=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,this.vi);d.bufferData(d.ARRAY_BUFFER,this.Zk.byteLength,d.DYNAMIC_DRAW);this.Nf=Array(4);this.Jf=Array(4);for(c=0;4>c;c++)this.Nf[c]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.Nf[c]),d.bufferData(d.ARRAY_BUFFER,this.Wg.byteLength,d.DYNAMIC_DRAW),this.Jf[c]=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,this.Jf[c]),d.bufferData(d.ARRAY_BUFFER,this.Pg.byteLength,d.DYNAMIC_DRAW);this.oc=0;this.Do=d.createBuffer();d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,
this.Do);for(var b=new Uint16Array(12E3),f=c=0;12E3>c;)b[c++]=f,b[c++]=f+1,b[c++]=f+2,b[c++]=f,b[c++]=f+2,b[c++]=f+3,f+=4;d.bufferData(d.ELEMENT_ARRAY_BUFFER,b,d.STATIC_DRAW);this.wi=this.kc=0;this.ja=[];c=this.sh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",
"<default>");this.ja.push(c);c=this.sh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ja.push(c);for(var g in Wb)Wb.hasOwnProperty(g)&&
this.ja.push(this.sh(Wb[g],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));d.activeTexture(d.TEXTURE0);d.bindTexture(d.TEXTURE_2D,null);this.Rc=[];this.mc=0;this.Ra=!1;this.Bj=this.nf=-1;this.Xe=null;this.Wn=d.createFramebuffer();this.il=null;this.qd=Rb([0,0,0]);this.Hk=d.getParameter(d.ALIASED_POINT_SIZE_RANGE)[1];
2048<this.Hk&&(this.Hk=2048);this.gc(0)};h.prototype.Wi=function(d){var c=this.Ak;if(c[0]!==d[0]||c[1]!==d[1]||c[2]!==d[2]||c[3]!==d[3]||c[4]!==d[4]||c[5]!==d[5]||c[6]!==d[6]||c[7]!==d[7]||c[8]!==d[8]||c[9]!==d[9]||c[10]!==d[10]||c[11]!==d[11]||c[12]!==d[12]||c[13]!==d[13]||c[14]!==d[14]||c[15]!==d[15])Tb(d,this.Ak),this.g.uniformMatrix4fv(this.xg,!1,d)};l.prototype.sh=function(d,c,b){var f=this.g,g=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(g,d.src);f.compileShader(g);if(!f.getShaderParameter(g,
f.COMPILE_STATUS))return f.deleteShader(g),null;var a=f.createShader(f.VERTEX_SHADER);f.shaderSource(a,c);f.compileShader(a);if(!f.getShaderParameter(a,f.COMPILE_STATUS))return f.deleteShader(g),f.deleteShader(a),null;c=f.createProgram();f.attachShader(c,g);f.attachShader(c,a);f.linkProgram(c);if(!f.getProgramParameter(c,f.LINK_STATUS))return f.deleteShader(g),f.deleteShader(a),f.deleteProgram(c),null;f.useProgram(c);f.deleteShader(g);f.deleteShader(a);b=new h(f,c,b);b.Bh=d.Bh||0;b.Ch=d.Ch||0;b.Aj=
!!d.Aj;b.ij=!!d.ij;b.A=d.A||[];d=0;for(g=b.A.length;d<g;d++)b.A[d][1]=f.getUniformLocation(c,b.A[d][0]),b.ei.push(0),f.uniform1f(b.A[d][1],0);return b};l.prototype.Oh=function(d){var c,b;c=0;for(b=this.ja.length;c<b;c++)if(this.ja[c].name===d)return c;return-1};l.prototype.cl=function(d,c,b){var f=this.tb,g=this.ni,a=[0,0,0,0,0,0,0,0];a[0]=f[0]*d+f[4]*c+f[12];a[1]=f[1]*d+f[5]*c+f[13];a[2]=f[2]*d+f[6]*c+f[14];a[3]=f[3]*d+f[7]*c+f[15];a[4]=g[0]*a[0]+g[4]*a[1]+g[8]*a[2]+g[12]*a[3];a[5]=g[1]*a[0]+g[5]*
a[1]+g[9]*a[2]+g[13]*a[3];a[6]=g[2]*a[0]+g[6]*a[1]+g[10]*a[2]+g[14]*a[3];a[7]=-a[2];0!==a[7]&&(a[7]=1/a[7],a[4]*=a[7],a[5]*=a[7],a[6]*=a[7],b[0]=(.5*a[4]+.5)*this.width,b[1]=(.5*a[5]+.5)*this.height)};l.prototype.Ce=function(d,c,b){if(this.width!==d||this.height!==c||b){this.Vc();this.width=d;this.height=c;this.g.viewport(0,0,d,c);c=d/c;var f=this.ni,g;g=1*Math.tan(45*Math.PI/360);c*=g;d=-c;b=-g;f||(f=Sb());var a=c-d,k=g-b;f[0]=2/a;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/k;f[6]=0;f[7]=0;f[8]=(c+d)/a;f[9]=
(g+b)/k;f[10]=-1001/999;f[11]=-1;f[12]=0;f[13]=0;f[14]=-2E3/999;f[15]=0;Vb(this.wj,this.tk,this.Ol,this.tb);d=[0,0];c=[0,0];this.cl(0,0,d);this.cl(1,1,c);this.aj[0]=1/(c[0]-d[0]);this.aj[1]=-1/(c[1]-d[1]);d=0;for(c=this.ja.length;d<c;d++)b=this.ja[d],b.Fd=!1,b.rk&&(this.g.useProgram(b.Gf),this.g.uniformMatrix4fv(b.rk,!1,this.ni));this.g.useProgram(this.ja[this.nf].Gf);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE1);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE0);
this.Kd=this.dd=null}};l.prototype.ec=function(){Vb(this.wj,this.tk,this.Ol,this.tb);Ub(this.tb,this.aj)};l.prototype.translate=function(d,c){if(0!==d||0!==c){this.qd[0]=d;this.qd[1]=c;this.qd[2]=0;var b=this.tb,f=this.qd,g=f[0],a=f[1],f=f[2];b[12]=b[0]*g+b[4]*a+b[8]*f+b[12];b[13]=b[1]*g+b[5]*a+b[9]*f+b[13];b[14]=b[2]*g+b[6]*a+b[10]*f+b[14];b[15]=b[3]*g+b[7]*a+b[11]*f+b[15]}};l.prototype.scale=function(d,c){if(1!==d||1!==c)this.qd[0]=d,this.qd[1]=c,this.qd[2]=1,Ub(this.tb,this.qd)};l.prototype.Hi=
function(d){if(0!==d){var c=this.tb,b,f=Math.sin(d);d=Math.cos(d);var g=c[0],a=c[1],k=c[2],r=c[3],m=c[4],w=c[5],u=c[6],n=c[7];b?c!==b&&(b[8]=c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15]):b=c;b[0]=g*d+m*f;b[1]=a*d+w*f;b[2]=k*d+u*f;b[3]=r*d+n*f;b[4]=g*-f+m*d;b[5]=a*-f+w*d;b[6]=k*-f+u*d;b[7]=r*-f+n*d}};l.prototype.jc=function(){for(var d=!1,c=0;16>c;c++)if(this.kk[c]!==this.tb[c]){d=!0;break}d&&(d=this.Nb(),d.type=5,d.K?Tb(this.tb,d.K):d.K=Sb(this.tb),Tb(this.tb,
this.kk),this.Ra=!1)};p.prototype.gn=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.zb)};p.prototype.hn=function(){var d=this.g;d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,this.zb);d.activeTexture(d.TEXTURE0)};p.prototype.cn=function(){var d=this.Uk,c=this.m;c.Uf=d;c=c.Xe;c.re&&c.zg!==d&&(c.zg=d,this.g.uniform1f(c.re,d))};p.prototype.$m=function(){this.g.drawElements(this.g.TRIANGLES,this.Zb,this.g.UNSIGNED_SHORT,2*this.xb)};p.prototype.bn=function(){this.g.blendFunc(this.xb,this.Zb)};
p.prototype.jn=function(){var d,c,b,f=this.m.ja,g=this.m.Bj;d=0;for(c=f.length;d<c;d++)b=f[d],d===g&&b.xg?(b.Wi(this.K),b.Fd=!0):b.Fd=!1;Tb(this.K,this.m.uh)};p.prototype.an=function(){var d=this.g,c=this.m;this.zb?(c.Kd===this.zb&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,null),c.Kd=null,d.activeTexture(d.TEXTURE0)),d.bindFramebuffer(d.FRAMEBUFFER,c.Wn),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this.zb,0)):(d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,
d.TEXTURE_2D,null,0),d.bindFramebuffer(d.FRAMEBUFFER,null))};p.prototype.Ym=function(){var d=this.g;0===this.xb?(d.clearColor(this.K[0],this.K[1],this.K[2],this.K[3]),d.clear(d.COLOR_BUFFER_BIT)):(d.enable(d.SCISSOR_TEST),d.scissor(this.K[0],this.K[1],this.K[2],this.K[3]),d.clearColor(0,0,0,0),d.clear(this.g.COLOR_BUFFER_BIT),d.disable(d.SCISSOR_TEST))};p.prototype.Zm=function(){var d=this.g,c=this.m,b=c.ja[1];d.useProgram(b.Gf);!b.Fd&&b.xg&&(b.Wi(c.uh),b.Fd=!0);d.enableVertexAttribArray(b.sb);d.bindBuffer(d.ARRAY_BUFFER,
c.vi);d.vertexAttribPointer(b.sb,4,d.FLOAT,!1,0,0);d.drawArrays(d.POINTS,this.xb/4,this.Zb);b=c.Xe;d.useProgram(b.Gf);0<=b.sb&&(d.enableVertexAttribArray(b.sb),d.bindBuffer(d.ARRAY_BUFFER,c.Nf[c.oc]),d.vertexAttribPointer(b.sb,2,d.FLOAT,!1,0,0));0<=b.fd&&(d.enableVertexAttribArray(b.fd),d.bindBuffer(d.ARRAY_BUFFER,c.Jf[c.oc]),d.vertexAttribPointer(b.fd,2,d.FLOAT,!1,0,0))};p.prototype.dn=function(){var d=this.g,c=this.m,b=c.ja[this.xb];c.Bj=this.xb;c.Xe=b;d.useProgram(b.Gf);!b.Fd&&b.xg&&(b.Wi(c.uh),
b.Fd=!0);b.re&&b.zg!==c.Uf&&(b.zg=c.Uf,d.uniform1f(b.re,c.Uf));0<=b.sb&&(d.enableVertexAttribArray(b.sb),d.bindBuffer(d.ARRAY_BUFFER,c.Nf[c.oc]),d.vertexAttribPointer(b.sb,2,d.FLOAT,!1,0,0));0<=b.fd&&(d.enableVertexAttribArray(b.fd),d.bindBuffer(d.ARRAY_BUFFER,c.Jf[c.oc]),d.vertexAttribPointer(b.fd,2,d.FLOAT,!1,0,0))};p.prototype.en=function(){var d,c,b=this.m.Xe,f=this.g;d=this.K;b.uf&&this.m.Kd!==this.zb&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this.zb),this.m.Kd=this.zb,f.activeTexture(f.TEXTURE0));
var g=d[0];b.ki&&g!==b.Ck&&(b.Ck=g,f.uniform1f(b.ki,g));g=d[1];b.ji&&g!==b.Bk&&(b.Bk=g,f.uniform1f(b.ji,g));g=d[2];c=d[3];!b.Pd||g===b.wk&&c===b.xk||(b.wk=g,b.xk=c,f.uniform2f(b.Pd,g,c));g=d[4];c=d[5];!b.Od||g===b.uk&&c===b.vk||(b.uk=g,b.vk=g,f.uniform2f(b.Od,g,c));g=d[6];b.tf&&g!==b.zk&&(b.zk=g,f.uniform1f(b.tf,g));g=d[7];b.sf&&g!==b.yk&&(b.yk=g,f.uniform1f(b.sf,g));g=d[8];c=d[9];!b.wf||g===b.Fk&&c===b.Gk||(b.Fk=g,b.Gk=c,f.uniform2f(b.wf,g,c));g=d[10];c=d[11];!b.vf||g===b.Dk&&c===b.Ek||(b.Dk=g,b.Ek=
c,f.uniform2f(b.vf,g,c));b.li&&f.uniform1f(b.li,Na()/1E3);if(b.A.length)for(d=0,c=b.A.length;d<c;d++)g=this.pl[d],g!==b.ei[d]&&(b.ei[d]=g,f.uniform1f(b.A[d][1],g))};l.prototype.Nb=function(){this.mc===this.Rc.length&&this.Rc.push(new p(0,this));return this.Rc[this.mc++]};l.prototype.Vc=function(){if(0!==this.mc&&!this.g.isContextLost()){var d=this.g;0<this.wi&&(d.bindBuffer(d.ARRAY_BUFFER,this.vi),d.bufferSubData(d.ARRAY_BUFFER,0,this.Zk.subarray(0,this.wi)),c&&0<=c.sb&&"<point>"===c.name&&d.vertexAttribPointer(c.sb,
4,d.FLOAT,!1,0,0));if(0<this.kc){var c=this.Xe;d.bindBuffer(d.ARRAY_BUFFER,this.Nf[this.oc]);d.bufferSubData(d.ARRAY_BUFFER,0,this.Wg.subarray(0,this.kc));c&&0<=c.sb&&"<point>"!==c.name&&d.vertexAttribPointer(c.sb,2,d.FLOAT,!1,0,0);d.bindBuffer(d.ARRAY_BUFFER,this.Jf[this.oc]);d.bufferSubData(d.ARRAY_BUFFER,0,this.Pg.subarray(0,this.kc));c&&0<=c.fd&&"<point>"!==c.name&&d.vertexAttribPointer(c.fd,2,d.FLOAT,!1,0,0)}for(var b,d=0,c=this.mc;d<c;d++)switch(b=this.Rc[d],b.type){case 1:b.$m();break;case 2:b.gn();
break;case 3:b.cn();break;case 4:b.bn();break;case 5:b.jn();break;case 6:b.an();break;case 7:b.Ym();break;case 8:b.Zm();break;case 9:b.dn();break;case 10:b.en();break;case 11:b.hn()}this.wi=this.kc=this.mc=0;this.Ra=!1;this.oc++;4<=this.oc&&(this.oc=0)}};l.prototype.Ae=function(d){if(d!==this.lk){var c=this.Nb();c.type=3;this.lk=c.Uk=d;this.Ra=!1}};l.prototype.hb=function(d){if(d!==this.dd){var c=this.Nb();c.type=2;this.dd=c.zb=d;this.Ra=!1}};l.prototype.nd=function(d,c){if(d!==this.mk||c!==this.jk){var b=
this.Nb();b.type=4;b.xb=d;b.Zb=c;this.mk=d;this.jk=c;this.Ra=!1}};l.prototype.ml=function(){this.nd(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};l.prototype.Gg=function(d,c,b,f,g,a,k,r){15992<=this.kc&&this.Vc();var m=this.kc,w=this.Wg,u=this.Pg;if(this.Ra)this.Rc[this.mc-1].Zb+=6;else{var n=this.Nb();n.type=1;n.xb=m/4*3;n.Zb=6;this.Ra=!0}w[m]=d;u[m++]=0;w[m]=c;u[m++]=0;w[m]=b;u[m++]=1;w[m]=f;u[m++]=0;w[m]=g;u[m++]=1;w[m]=a;u[m++]=1;w[m]=k;u[m++]=0;w[m]=r;u[m++]=1;this.kc=m};l.prototype.ld=function(d,
c,b,f,g,a,k,r,m){15992<=this.kc&&this.Vc();var w=this.kc,u=this.Wg,n=this.Pg;if(this.Ra)this.Rc[this.mc-1].Zb+=6;else{var e=this.Nb();e.type=1;e.xb=w/4*3;e.Zb=6;this.Ra=!0}var e=m.left,q=m.top,C=m.right;m=m.bottom;u[w]=d;n[w++]=e;u[w]=c;n[w++]=q;u[w]=b;n[w++]=C;u[w]=f;n[w++]=q;u[w]=g;n[w++]=C;u[w]=a;n[w++]=m;u[w]=k;n[w++]=e;u[w]=r;n[w++]=m;this.kc=w};l.prototype.gc=function(d){if(this.nf!==d){if(!this.ja[d]){if(0===this.nf)return;d=0}var c=this.Nb();c.type=9;this.nf=c.xb=d;this.Ra=!1}};l.prototype.Bf=
function(d){d=this.ja[d];return!(!d.Pd&&!d.Od)};l.prototype.xi=function(d){d=this.ja[d];return!!(d.Pd||d.Od||d.Aj)};l.prototype.lp=function(d){d=this.ja[d];return 0!==d.Bh||0!==d.Ch};l.prototype.jo=function(d){return this.ja[d].Bh};l.prototype.ko=function(d){return this.ja[d].Ch};l.prototype.lo=function(d,c){return this.ja[d].A[c][2]};l.prototype.Eg=function(d){return this.ja[d].ij};l.prototype.Be=function(d,c,b,f,g,a,k,r,m,w,u,n,e,q){var C=this.ja[this.nf],J,x;if(C.Bo||q.length){J=this.Nb();J.type=
10;J.K?Tb(this.tb,J.K):J.K=Sb();x=J.K;x[0]=c;x[1]=b;x[2]=f;x[3]=g;x[4]=a;x[5]=k;x[6]=r;x[7]=m;x[8]=w;x[9]=u;x[10]=n;x[11]=e;C.uf?J.zb=d:J.zb=null;if(q.length)for(b=J.pl,b.length=q.length,d=0,c=q.length;d<c;d++)b[d]=q[d];this.Ra=!1}};l.prototype.clear=function(d,c,b,f){var g=this.Nb();g.type=7;g.xb=0;g.K||(g.K=Sb());g.K[0]=d;g.K[1]=c;g.K[2]=b;g.K[3]=f;this.Ra=!1};l.prototype.clearRect=function(d,c,b,f){if(!(0>b||0>f)){var g=this.Nb();g.type=7;g.xb=1;g.K||(g.K=Sb());g.K[0]=d;g.K[1]=c;g.K[2]=b;g.K[3]=
f;this.Ra=!1}};l.prototype.kp=function(){this.Vc();this.g.flush()};var t=[],v={};l.prototype.Pm=function(){t.length=0;v={}};l.prototype.qk=function(d,c,b){var f;f=!1;c=!!c;var g=d.src+","+f+","+c+(f?",undefined":""),a=null;if("undefined"!==typeof d.src&&v.hasOwnProperty(g))return a=v[g],a.Of++,a;this.Vc();var k=this.g,r=ga(d.width)&&ga(d.height),a=k.createTexture();k.bindTexture(k.TEXTURE_2D,a);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=k.RGBA,w=k.RGBA,u=k.UNSIGNED_BYTE;if(b&&!this.Zc)switch(b){case 1:w=
m=k.RGB;break;case 2:u=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:w=m=k.RGB,u=k.UNSIGNED_SHORT_5_6_5}if(!r&&f){b=document.createElement("canvas");b.width=ha(d.width);b.height=ha(d.height);var n=b.getContext("2d");n.webkitImageSmoothingEnabled=c;n.mozImageSmoothingEnabled=c;n.msImageSmoothingEnabled=c;n.imageSmoothingEnabled=c;n.drawImage(d,0,0,d.width,d.height,0,0,b.width,b.height);k.texImage2D(k.TEXTURE_2D,0,m,w,u,b)}else k.texImage2D(k.TEXTURE_2D,0,m,w,u,d);f?
(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));c?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),r&&this.Ej?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.dd=null;a.Re=d.width;a.Qe=d.height;a.Of=1;a.uj=g;t.push(a);return v[g]=a};l.prototype.nc=function(d,c,b,f){this.Vc();var g=this.g;this.Zc&&(f=!1);var a=g.createTexture();g.bindTexture(g.TEXTURE_2D,a);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,d,c,0,g.RGBA,f?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,b?g.LINEAR:g.NEAREST);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,b?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.dd=null;a.Re=d;a.Qe=c;t.push(a);return a};l.prototype.Kp=function(d,c,b){this.Vc();var f=this.g;this.Zc&&(b=!1);f.bindTexture(f.TEXTURE_2D,c);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,b?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,d)}catch(g){console&&
console.error&&console.error("Error updating WebGL texture: ",g)}f.bindTexture(f.TEXTURE_2D,null);this.dd=null};l.prototype.deleteTexture=function(d){d&&("undefined"!==typeof d.Of&&1<d.Of?d.Of--:(this.Vc(),d===this.dd&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.dd=null),d===this.Kd&&(this.g.activeTexture(this.g.TEXTURE1),this.g.bindTexture(this.g.TEXTURE_2D,null),this.g.activeTexture(this.g.TEXTURE0),this.Kd=null),za(t,d),"undefined"!==typeof d.uj&&delete v[d.uj],this.g.deleteTexture(d)))};
l.prototype.fc=function(d){if(d!==this.il){var c=this.Nb();c.type=6;this.il=c.zb=d;this.Ra=!1}};ab=l})();
(function(){function l(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function h(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function p(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var e=this;this.Id=(this.kg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Jd=!!a.dc;this.Fo="undefined"!==typeof window.AppMobi||this.Jd;this.Jb=!!window.c2cocoonjs;this.Kb=!!window.c2ejecta;this.Jb&&(CocoonJS.App.onSuspended.addEventListener(function(){e.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){e.setSuspended(!1)}));this.Kb&&(document.addEventListener("pagehide",function(){e.setSuspended(!0)}),document.addEventListener("pageshow",
function(){e.setSuspended(!1)}),document.addEventListener("resize",function(){e.setSize(window.innerWidth,window.innerHeight)}));this.za=this.Jd||this.Jb||this.Kb;this.Zc=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.dk=/tizen/i.test(navigator.userAgent);this.bk=/android/i.test(navigator.userAgent)&&!this.dk&&!this.Zc;this.di=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Zc;this.ik=/ipad/i.test(navigator.userAgent);this.hk=this.di||this.ik||this.Kb;this.Mo=this.di&&/os\s6/i.test(navigator.userAgent);this.jg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Zc;this.ak=/amazonwebappplatform/i.test(navigator.userAgent);this.Ho=/firefox/i.test(navigator.userAgent);this.Jo=/safari/i.test(navigator.userAgent)&&!this.jg&&!this.Zc;this.ad="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||
/nwjs/i.test(navigator.userAgent);this.fk=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Ko=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.le=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.bi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.ek=this.fk||this.Ko||this.bi;this.Go=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.ck=this.bk&&!this.jg&&
!this.kg&&!this.Ho&&!this.ak&&!this.za;this.devicePixelRatio=1;this.yc=this.Id||this.kg||this.Fo||this.Jb||this.bk||this.hk||this.le||this.bi||this.Go||this.dk||this.Kb;this.yc||(this.yc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.ad||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.ad=!0);this.canvas=a;this.xj=document.getElementById("c2canvasdiv");
this.L=this.m=this.g=null;this.Gh="";this.$f=!1;this.Rk=this.Sk=0;this.canvas.oncontextmenu=function(e){e.preventDefault&&e.preventDefault();return!1};this.canvas.onselectstart=function(e){e.preventDefault&&e.preventDefault();return!1};this.Jd&&(window.c2runtime=this);this.ad&&(window.ondragover=function(e){e.preventDefault();return!1},window.ondrop=function(e){e.preventDefault();return!1},require("nw.gui").App.clearCache());this.ck&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=a.width;this.height=a.height;this.C=this.width;this.B=this.height;this.Sf=this.width;this.Rf=this.height;this.pf=window.innerWidth;this.of=window.innerHeight;this.Yn=!1;this.M=!0;this.kf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.Z=[];this.hi={};this.Mb=[];this.Ah={};this.rc=[];this.Ke=[];this.Tg=[];this.ah=[];this.Gm=[];this.zd={};this.Zh=this.Yc=!1;this.xc=0;this.ai=!1;this.Vb=[];this.zc=this.Aa=this.tg=this.Mi="";this.If=
this.rl=!1;this.rh=this.xf=this.Uc=this.fe=0;this.Kf=1;this.cd=new Ra;this.Xg=new Ra;this.Bg=this.bg=this.Yf=this.ic=this.Md=this.Fh=this.og=0;this.Se=null;this.Cj=[];this.zh=[];this.Xf=-1;this.mi=[[]];this.Ti=this.yg=0;this.Ai(null);this.Nk=this.zf=0;this.gi=!0;this.Ze=0;this.Ng=[];this.Qi=this.Ci=-1;this.mf=!0;this.wg=0;this.jf=!1;this.yp=0;this.Pe=null;this.$c=this.Qh=!1;this.Pk=new E;this.pi=new E;this.Qk=new E;this.hl=[];new Ta([]);new Ta([]);this.de=[];this.gg={};this.ee={};this.be={};this.Je=
{};this.rj={};this.pk=this.sg=this.Ua=this.gb=this.ok=this.rg=this.O=null;this.He=this.ci=!1;this.Hh=[null,null];this.Dd=0;this.Cc={};this.Hf=this.Nd=null;this.tl="";this.Ag=[];this.np()}}function t(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function v(a,e,q,b){var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=t;c.onerror=b;c.onsuccess=function(c){c=c.target.result;c.onerror=b;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:e}).onsuccess=q}}function d(a,
e,q){var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=t;b.onerror=q;b.onsuccess=function(b){b=b.target.result;b.onerror=q;var c=b.transaction(["saves"]).objectStore("saves").get(a);c.onsuccess=function(){c.result?e(c.result.data):e(null)}}}function c(){L("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var e,q={};for(e in a)!a.hasOwnProperty(e)||
a[e]instanceof E||a[e]&&"undefined"!==typeof a[e].Uq||(q[e]=a[e]);return q}p.prototype.np=function(){var a=this,e;this.le?e=new ActiveXObject("Microsoft.XMLHTTP"):e=new XMLHttpRequest;var q="data.js";if(this.fk||this.le||this.bi)q="data.json";e.open("GET",q,!0);var b=!1;if(!this.za&&"response"in e&&"responseType"in e)try{e.responseType="json",b="json"===e.responseType}catch(c){b=!1}if(!b&&"responseType"in e)try{e.responseType="text"}catch(k){}if("overrideMimeType"in e)try{e.overrideMimeType("application/json; charset=utf-8")}catch(d){}this.le?
e.onreadystatechange=function(){4===e.readyState&&a.vg(JSON.parse(e.responseText))}:(e.onload=function(){if(b)a.vg(e.response);else if(a.Kb){var q=e.responseText,q=q.substr(q.indexOf("{"));a.vg(JSON.parse(q))}else a.vg(JSON.parse(e.responseText))},e.onerror=function(e){ea("Error requesting "+q+":");ea(e)});e.send()};p.prototype.Eo=function(){var a=this,e,q,b,c,k,d,m,f,g;this.devicePixelRatio=(this.ke=(!this.za||this.Kb)&&this.Ip&&!this.ck)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||
window.msDevicePixelRatio||1:1;this.ua();q=!(!this.Yn&&(!this.bh||this.ad||this.ek||this.le||this.kg||this.Id||this.ak));0<this.Qa&&this.setSize(l(),h(),!0);try{this.qn&&(this.Jb||this.Kb||!this.za)&&(e={alpha:q,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.g=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e))}catch(r){}if(this.g){this.za||(this.ra=document.createElement("canvas"),jQuery(this.ra).appendTo(this.canvas.parentNode),this.ra.oncontextmenu=function(){return!1},
this.ra.onselectstart=function(){return!1},this.ra.width=this.Sf,this.ra.height=this.Rf,jQuery(this.ra).css({width:this.Sf+"px",height:this.Rf+"px"}),this.al(),this.ti=this.ra.getContext("2d"));this.m=new ab(this.g,this.yc);this.m.Ce(this.canvas.width,this.canvas.height);this.m.Ej=0!==this.kn;this.L=null;this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault();a.Vo();L("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.m.Xj();a.m.Ce(a.m.width,a.m.height,!0);a.gb=null;a.Ua=null;a.Hh[0]=null;a.Hh[1]=null;a.Wo();a.M=!0;L("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);e=0;for(q=this.i.length;e<q;e++)for(k=this.i[e],b=0,c=k.p.length;b<c;b++)m=k.p[b],m.ta=this.m.Oh(m.id),this.He=this.He||this.m.Bf(m.ta);e=0;for(q=this.Mb.length;e<q;e++){f=this.Mb[e];b=0;for(c=f.p.length;b<c;b++)m=f.p[b],m.ta=this.m.Oh(m.id);b=0;for(c=f.u.length;b<c;b++)for(g=f.u[b],k=0,d=g.p.length;k<d;k++)m=g.p[k],
m.ta=this.m.Oh(m.id),this.He=this.He||this.m.Bf(m.ta)}}else{if(0<this.Qa&&this.Jd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.L=AppMobi.canvas.getContext("2d");try{this.L.samplingMode=this.J?"smooth":"sharp",this.L.globalScale=1,this.L.HTML5CompatibilityMode=!0,this.L.imageSmoothingEnabled=this.J}catch(w){}0!==this.width&&0!==this.height&&(this.L.width=this.width,this.L.height=this.height)}this.L||(this.Jb?(e={antialias:!!this.J,alpha:q},
this.L=this.canvas.getContext("2d",e)):(e={alpha:q},this.L=this.canvas.getContext("2d",e)),this.L.webkitImageSmoothingEnabled=this.J,this.L.mozImageSmoothingEnabled=this.J,this.L.msImageSmoothingEnabled=this.J,this.L.imageSmoothingEnabled=this.J);this.ti=this.ra=null}this.Dl=function(e){a.Wd(!1,e)};window==window.top||this.za||this.ek||this.le||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==
typeof cr_is_preview&&(this.Jb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(L("Reloading for continuous preview"),this.tg="__c2_continuouspreview",this.If=!0),this.ep&&!this.yc&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));this.za||(e=function(e){if($a(e)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(a){}},
window.navigator.pointerEnabled?document.addEventListener("pointerdown",e):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",e):document.addEventListener("touchstart",e),document.addEventListener("mousedown",e));0===this.Qa&&this.ke&&1<this.devicePixelRatio&&this.setSize(this.fa,this.ea,!0);this.Jl();this.yo();this.go();this.I={}};p.prototype.setSize=function(a,e,q){var b=0,c=0,k=0,d=0,d=0,m=this.Mo&&this.Jo&&!navigator.standalone&&!this.za&&!this.Id;m&&(e+=60);if(this.pf!==
a||this.of!==e||q){this.pf=a;this.of=e;var f=this.Qa,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.jf)&&!this.Id;if(g||0!==this.Qa||q)g&&0<this.Dd&&(f=this.Dd),q=this.devicePixelRatio,4<=f?(k=this.fa/this.ea,a/e>k?(k*=e,5===f?(d=k*q/this.fa,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),k=this.fa*d/q,d=this.ea*d/q,b=(a-k)/2,c=(e-d)/2,a=k,e=d):(b=(a-k)/2,a=k)):(d=a/k,5===f?(d=d*q/this.ea,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),
k=this.fa*d/q,d=this.ea*d/q,b=(a-k)/2,c=(e-d)/2,a=k):c=(e-d)/2,e=d),g&&!this.ad&&(c=b=0)):this.ad&&this.jf&&0===this.Kj&&(b=Math.floor((a-this.fa)/2),c=Math.floor((e-this.ea)/2),a=this.fa,e=this.ea),2>f&&(this.Oe=q),this.ke&&this.ik&&1<q&&(1024<=a&&(a=1023),1024<=e&&(e=1023)),this.Sf=Math.round(a),this.Rf=Math.round(e),this.width=Math.round(a*q),this.height=Math.round(e*q),this.M=!0,this.Tl?(this.C=this.width,this.B=this.height,this.rb=!0):this.width<this.fa&&this.height<this.ea||1===f?(this.C=this.width,
this.B=this.height,this.rb=!0):(this.C=this.fa,this.B=this.ea,this.rb=!1,2===f?(k=this.fa/this.ea,f=this.pf/this.of,f<k?this.C=this.B*f:f>k&&(this.B=this.C/f)):3===f&&(k=this.fa/this.ea,f=this.pf/this.of,f>k?this.C=this.B*f:f<k&&(this.B=this.C/f))),this.xj&&!this.za&&(jQuery(this.xj).css({width:Math.round(a)+"px",height:Math.round(e)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(c)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(e)+
"px"})),this.canvas&&(this.canvas.width=Math.round(a*q),this.canvas.height=Math.round(e*q),this.Kb?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(c)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(e)+"px"):this.ke&&!this.za&&jQuery(this.canvas).css({width:Math.round(a)+"px",height:Math.round(e)+"px"})),this.ra&&(this.ra.width=Math.round(a),this.ra.height=Math.round(e),jQuery(this.ra).css({width:Math.round(a)+"px",height:Math.round(e)+
"px"})),this.m&&this.m.Ce(Math.round(a*q),Math.round(e*q)),this.Jd&&this.L&&(this.L.width=Math.round(a),this.L.height=Math.round(e)),this.L&&(this.L.webkitImageSmoothingEnabled=this.J,this.L.mozImageSmoothingEnabled=this.J,this.L.msImageSmoothingEnabled=this.J,this.L.imageSmoothingEnabled=this.J),this.Jl(),this.za||!m&&!this.di||window.setTimeout(function(){window.scrollTo(0,1)},100)}};p.prototype.Jl=function(){if(this.Im&&0!==this.si){var a="portrait";2===this.si&&(a="landscape");screen.orientation&&
screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};p.prototype.Vo=function(){this.m.Pm();this.ci=!0;var a,e,q;a=0;for(e=this.i.length;a<e;a++)q=this.i[a],q.ri&&q.ri()};p.prototype.Wo=function(){this.ci=!1;var a,e,q;a=0;for(e=this.i.length;a<e;a++)q=this.i[a],q.Tk&&q.Tk()};p.prototype.al=
function(){if(!this.za){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.jf)&&!this.Id?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ra).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;p.prototype.setSuspended=function(a){var e;if(a&&!this.kf)for(L("[Construct 2] Suspending"),
this.kf=!0,-1!==this.Ci&&f&&f(this.Ci),-1!==this.Qi&&clearTimeout(this.Qi),a=0,e=this.Ng.length;a<e;a++)this.Ng[a](!0);else if(!a&&this.kf){L("[Construct 2] Resuming");this.kf=!1;this.og=Na();this.Md=Na();a=this.xf=this.bg=0;for(e=this.Ng.length;a<e;a++)this.Ng[a](!1);this.Wd(!1)}};p.prototype.Nc=function(a){return this.Ag[a]};p.prototype.vg=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.Jj=a[1];this.Qa=a[12];this.Kj=a[12];this.fa=a[10];this.ea=a[11];this.Vk=
this.fa/2;this.Wk=this.ea/2;this.za&&!this.Kb&&(4<=a[12]||0===a[12])&&(L("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Kj=this.Qa=3);this.Zi=a[18];this.rf=a[19];0===this.rf&&(this.Nd=new Image,this.Nd.crossOrigin="anonymous",this.Nd.src="loading-logo.png");this.zf=a[21];this.Ag=Xb();this.hc=new Y(this);var e,q,b,c,k,d,m,f,g;e=0;for(q=a[2].length;e<q;e++)m=a[2][e],b=this.Nc(m[0]),bb(m,b.prototype),g=new b(this),g.Lg=m[1],g.bd=
m[2],g.Kk=m[9],g.Ba&&g.Ba(),this.plugins.push(g);this.Ag=Xb();e=0;for(q=a[3].length;e<q;e++){m=a[3][e];k=this.Nc(m[1]);g=null;b=0;for(c=this.plugins.length;b<c;b++)if(this.plugins[b]instanceof k){g=this.plugins[b];break}var r=new g.sd(g);r.name=m[0];r.F=m[2];r.Xh=m[3].slice(0);r.Jp=m[3].length;r.Jm=m[4];r.Zn=m[5];r.D=m[11];r.F?(r.Ik=[],r.tc=this.Ze++,r.S=null):(r.Ik=null,r.tc=-1,r.S=[]);r.Zf=null;r.ie=null;r.Fj=null;r.Lb=!1;r.Pa=null;m[6]?(r.Al=m[6][0],r.Bl=m[6][1],r.Bp=m[6][2]):(r.Al=null,r.Bl=0,
r.Bp=0);m[7]?r.Fa=m[7]:r.Fa=null;r.index=e;r.d=[];r.Vf=[];r.pd=[new cb(r)];r.pc=0;r.Wb=null;r.Um=0;r.Fe=!0;r.Ug=db;r.bo=eb;r.io=fb;r.N=gb;r.Df=hb;r.yi=ib;r.ve=jb;r.dg=kb;r.Ih=lb;r.Lh=mb;r.Pc=nb;r.Pj=ob;r.yj=new Ua(this.fa,this.ea);r.jj=!0;r.kj=!1;r.I={};r.toString=pb;r.Z=[];b=0;for(c=m[8].length;b<c;b++){f=m[8][b];var w=this.Nc(f[1]),u=null;k=0;for(d=this.Z.length;k<d;k++)if(this.Z[k]instanceof w){u=this.Z[k];break}u||(u=new w(this),u.Lk=[],u.oi=new E,u.Ba&&u.Ba(),this.Z.push(u));-1===u.Lk.indexOf(r)&&
u.Lk.push(r);k=new u.sd(u,r);k.name=f[0];k.D=f[2];k.Ba();r.Z.push(k)}r.global=m[9];r.$h=m[10];r.p=[];b=0;for(c=m[12].length;b<c;b++)r.p.push({id:m[12][b][0],name:m[12][b][1],ta:-1,$a:!0,index:b});r.dr=m[13];this.Zi&&!r.F&&!r.$h&&g.bd||r.Ba();r.name&&(this.types[r.name]=r);this.i.push(r);g.Lg&&(b=new g.Sb(r),b.uid=this.zf++,b.el=this.Nk++,b.Gd=0,b.cf=qb,b.toString=rb,b.Da=m[14],b.Ba(),r.d.push(b),this.Cc[b.uid.toString()]=b)}e=0;for(q=a[4].length;e<q;e++)for(k=a[4][e],d=this.i[k[0]],b=1,c=k.length;b<
c;b++)m=this.i[k[b]],m.S.push(d),d.Ik.push(m);e=0;for(q=a[27].length;e<q;e++){k=a[27][e];d=[];b=0;for(c=k.length;b<c;b++)d.push(this.i[k[b]]);b=0;for(c=d.length;b<c;b++)d[b].Lb=!0,d[b].Pa=d}if(0<this.Ze)for(e=0,q=this.i.length;e<q;e++)if(m=this.i[e],!m.F&&m.S.length){m.Zf=Array(this.Ze);m.ie=Array(this.Ze);m.Fj=Array(this.Ze);r=[];b=u=w=f=0;for(c=m.S.length;b<c;b++)for(g=m.S[b],m.Zf[g.tc]=f,f+=g.Jp,m.ie[g.tc]=w,w+=g.Jm,m.Fj[g.tc]=u,u+=g.Zn,k=0,d=g.p.length;k<d;k++)r.push(ta({},g.p[k]));m.p=r.concat(m.p);
b=0;for(c=m.p.length;b<c;b++)m.p[b].index=b}e=0;for(q=a[5].length;e<q;e++)m=a[5][e],b=new sb(this,m),this.hi[b.name]=b,this.Mb.push(b);e=0;for(q=a[6].length;e<q;e++)m=a[6][e],b=new tb(this,m),this.Ah[b.name]=b,this.rc.push(b);e=0;for(q=this.rc.length;e<q;e++)this.rc[e].Y();e=0;for(q=this.rc.length;e<q;e++)this.rc[e].Vi();e=0;for(q=this.Tg.length;e<q;e++)this.Tg[e].Y();this.Tg.length=0;this.Hm=a[7];this.kd=a[9];this.Oe=1;this.qn=a[13];this.J=a[14];this.bh=a[15];this.Ip=a[17];this.si=a[20];this.Im=
0<this.si;this.ep=a[22];this.rb=this.Tl=a[23];this.kn=a[24];this.ip=a[25];this.Mg=Date.now();this.Ag.length=0;this.Eo()};var g=!1;p.prototype.Lp=function(a,e){a.cocoonLazyLoad=!0;a.onerror=function(e){g=a.tj=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",e)};this.Kb?a.src=e:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(e){a.src=e},function(b){g=a.tj=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",b)}):
(a.crossOrigin="anonymous",a.src=e));this.Ke.push(a)};p.prototype.Xn=function(a){var e,b;e=0;for(b=this.Ke.length;e<b;e++)if(this.Ke[e].Rm===a)return this.Ke[e];return null};var a=0,k=!1;p.prototype.yo=function(){this.Pe&&(a=this.Pe.$q(this.Hm))};p.prototype.lj=function(){var b=a,e=0,q=0,c=!0,d,m,q=0;for(d=this.Ke.length;q<d;q++){m=this.Ke[q];var f=m.Qm;if(!f||0>=f)f=5E4;b+=f;m.src&&(m.complete||m.loaded)&&!m.tj?e+=f:c=!1}c&&this.ip&&this.Pe&&(k||(this.Pe.br(),k=!0),q=this.Pe.Wq(),e+=q,q<a&&(c=!1));
this.Td=0==b?0:e/b;return c};p.prototype.go=function(){if(this.L||this.m){var a=this.L||this.ti;this.ra&&this.al();this.Td=0;this.nk=-1;if(this.lj())this.zo();else{var e=Date.now()-this.Mg;if(a){var b=this.width,c=this.height,k=this.devicePixelRatio;this.ra&&(b=this.Sf,c=this.Rf,k=1);if(3!==this.rf&&(this.Jb||500<=e&&this.nk!=this.Td)){a.clearRect(0,0,b,c);var e=b/2,c=c/2,b=0===this.rf&&this.Nd.complete,d=40*k,m=0,f=80*k,r;b&&(f=this.Nd.width*k,r=this.Nd.height*k,d=f/2,m=r/2,a.drawImage(this.Nd,Q(e-
d),Q(c-m),f,r));1>=this.rf?(e=Q(e-d)+.5,c=Q(c+(m+(b?12*k:0)))+.5,a.fillStyle=g?"red":"DodgerBlue",a.fillRect(e,c,Math.floor(f*this.Td),6*k),a.strokeStyle="black",a.strokeRect(e,c,f,6*k),a.strokeStyle="white",a.strokeRect(e-1*k,c-1*k,f+2*k,8*k)):2===this.rf&&(a.font=this.Kb?"12pt ArialMT":"12pt Arial",a.fillStyle=g?"#f00":"#999",a.cr="middle",k=Math.round(100*this.Td)+"%",b=a.measureText?a.measureText(k):null,a.fillText(k,e-(b?b.width:0)/2,c))}this.nk=this.Td}setTimeout(function(e){return function(){e.go()}}(this),
this.Jb?10:100)}}};p.prototype.zo=function(){this.ra&&(this.canvas.parentNode.removeChild(this.ra),this.ra=this.ti=null);this.Mg=Date.now();this.Md=Na();var a,e,b;if(this.Zi)for(a=0,e=this.i.length;a<e;a++)b=this.i[a],b.F||b.$h||!b.na.bd||b.Ba();else this.mf=!1;a=0;for(e=this.Mb.length;a<e;a++)this.Mb[a].Sm();2<=this.Qa&&(a=this.fa/this.ea,e=this.width/this.height,this.Oe=2!==this.Qa&&e>a||2===this.Qa&&e<a?this.height/this.ea:this.width/this.fa);this.Jj?this.hi[this.Jj].Pi():this.Mb[0].Pi();this.Zi||
(this.wg=1,this.trigger(Y.prototype.q.ej,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(e=this.i.length;a<e;a++)b=this.i[a],b.Uo&&b.Uo();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Wd(!1);this.Jd&&AppMobi.webview.execute("onGameReady();")};var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;
p.prototype.Wd=function(a,e,b){if(this.O){var c=Na();if(b||!this.kf||a){a||(r?this.Ci=r(this.Dl):this.Qi=setTimeout(this.Dl,this.yc?1:16));e=e||c;var k=this.Qa;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Id)||this.jf)&&0<this.Dd&&(k=this.Dd);0<k&&(!this.hk||window.self!==window.top)&&(k=window.innerHeight,this.pf===window.innerWidth&&this.of===k||this.setSize(l(),h()));this.za||(b?(this.$f||(this.Gh=jQuery(this.canvas).css("margin")||
"0",this.$f=!0),this.jg||this.ad||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.$f?(this.jg||this.ad||jQuery(this.canvas).css("margin",this.Gh),this.Gh="",this.$f=!1,0===this.Qa&&this.setSize(Math.round(this.Sk/this.devicePixelRatio),Math.round(this.Rk/this.devicePixelRatio),!0)):(this.Sk=this.width,this.Rk=this.height));this.mf&&(b=this.lj(),
this.wg=this.Td,b&&(this.mf=!1,this.Td=1,this.trigger(Y.prototype.q.ej,null)));this.Qo(e);!this.M&&!this.Jb||this.ci||this.If||a||(this.M=!1,this.m?this.Gb():this.qc(),this.Hf&&(this.canvas&&this.canvas.toDataURL&&(this.tl=this.canvas.toDataURL(this.Hf[0],this.Hf[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.tl),this.trigger(Y.prototype.q.lm,null)),this.Hf=null));this.Xq||(this.ic++,this.Yf++,this.bg++);this.xf+=Na()-c}}};p.prototype.Qo=function(a){var e,b,c,k,d,m,f,r;1E3<=a-this.Md&&(this.Md+=
1E3,1E3<=a-this.Md&&(this.Md=a),this.Fh=this.bg,this.bg=0,this.rh=this.xf,this.xf=0);0!==this.og&&(e=a-this.og,0>e&&(e=0),this.Uc=e/1E3,.5<this.Uc?this.Uc=0:.1<this.Uc&&(this.Uc=.1));this.og=a;this.fe=this.Uc*this.Kf;this.cd.add(this.fe);this.Xg.add(this.Uc);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.jf)&&!this.Id;2<=this.Qa||a&&0<this.Dd?(e=this.fa/this.ea,b=this.width/this.height,c=this.Qa,a&&0<this.Dd&&(c=this.Dd),this.Oe=2!==
c&&b>e||2===c&&b<e?this.height/this.ea:this.width/this.fa,this.O&&(this.O.kl(this.O.scrollX),this.O.ll(this.O.scrollY))):this.Oe=this.ke?this.devicePixelRatio:1;this.ua();this.xc++;this.hc.pp();this.xc--;this.ua();this.xc++;b=this.Pk.rd();a=0;for(e=b.length;a<e;a++)b[a].Yq();a=0;for(e=this.i.length;a<e;a++)if(m=this.i[a],!m.F&&(m.Z.length||m.S.length))for(b=0,c=m.d.length;b<c;b++)for(f=m.d[b],k=0,d=f.r.length;k<d;k++)f.r[k].Wd();a=0;for(e=this.i.length;a<e;a++)if(m=this.i[a],!m.F&&(m.Z.length||m.S.length))for(b=
0,c=m.d.length;b<c;b++)for(f=m.d[b],k=0,d=f.r.length;k<d;k++)r=f.r[k],r.hp&&r.hp();b=this.pi.rd();a=0;for(e=b.length;a<e;a++)b[a].Wd();this.xc--;this.Ao();for(a=0;this.Se&&10>a++;)this.Dj(this.Se);a=0;for(e=this.rc.length;a<e;a++)this.rc[a].Th=!1;this.O.Bd&&this.O.Bd.ga();this.hl.length=0;this.gi=!1;this.xc++;a=0;for(e=this.i.length;a<e;a++)if(m=this.i[a],!m.F&&(m.Z.length||m.S.length))for(b=0,c=m.d.length;b<c;b++)for(f=m.d[b],k=0,d=f.r.length;k<d;k++)r=f.r[k],r.Cl&&r.Cl();b=this.Qk.rd();a=0;for(e=
b.length;a<e;a++)b[a].Cl();this.xc--};p.prototype.Dj=function(a){var e=this.O;this.O.zp();var b,c,k,d,m,f,r;if(this.m)for(b=0,c=this.i.length;b<c;b++)m=this.i[b],m.F||!m.Nl||m.global&&0!==m.d.length||-1!==a.hf.indexOf(m)||m.Nl();e==a&&(this.hc.La.length=0);this.hl.length=0;a.Pi();b=0;for(c=this.i.length;b<c;b++)if(m=this.i[b],m.global||m.na.Lg)for(a=0,e=m.d.length;a<e;a++)if(f=m.d[a],f.qi&&f.qi(),f.r)for(k=0,d=f.r.length;k<d;k++)r=f.r[k],r.qi&&r.qi();this.gi=this.M=!0;this.ua()};p.prototype.El=function(a){this.pi.add(a)};
p.prototype.Nj=function(a){return a&&-1!==a.yf?this.Uc*a.yf:this.fe};p.prototype.qc=function(){this.O.qc(this.L);this.Jd&&this.L.present()};p.prototype.Gb=function(){this.O.Gb(this.m);this.m.kp()};p.prototype.Sj=function(a){a=a.toString();return this.Cc.hasOwnProperty(a)?this.Cc[a]:null};var m=[];p.prototype.Yd=function(a){var e,b;e=a.type.name;var c=null;if(this.zd.hasOwnProperty(e)){if(c=this.zd[e],c.contains(a))return}else c=m.length?m.pop():new E,this.zd[e]=c;c.add(a);this.Yc=!0;if(a.Lb)for(e=
0,b=a.siblings.length;e<b;e++)this.Yd(a.siblings[e]);this.Zh&&c.Ie.push(a);this.xc++;this.trigger(Object.getPrototypeOf(a.type.na).q.nm,a);this.xc--};p.prototype.ua=function(){if(this.Yc){var a,e,b,c,k,m;this.Zh=!0;b=0;for(k=this.Vb.length;b<k;++b)for(a=this.Vb[b],e=a.type,e.d.push(a),c=0,m=e.S.length;c<m;++c)e.S[c].d.push(a),e.S[c].Fe=!0;this.Vb.length=0;this.gm();La(this.zd);this.Yc=this.Zh=!1}};p.prototype.gm=function(){for(var a in this.zd)this.zd.hasOwnProperty(a)&&this.Yl(this.zd[a])};p.prototype.Yl=
function(a){var e=a.rd(),b=e[0].type,c,k,d,f,r,g;Oa(b.d,a);b.Fe=!0;0===b.d.length&&(b.kj=!1);c=0;for(k=b.S.length;c<k;++c)g=b.S[c],Oa(g.d,a),g.Fe=!0;c=0;for(k=this.hc.La.length;c<k;++c)if(r=this.hc.La[c],r.Ea.hasOwnProperty(b.index)&&Oa(r.Ea[b.index].vc,a),!b.F)for(d=0,f=b.S.length;d<f;++d)g=b.S[d],r.Ea.hasOwnProperty(g.index)&&Oa(r.Ea[g.index].vc,a);if(r=e[0].e){if(r.Qb)for(d=r.d,c=0,k=d.length;c<k;++c)f=d[c],a.contains(f)&&(f.pa(),r.Wa.update(f,f.Ja,null),f.Ja.set(0,0,-1,-1));Oa(r.d,a);r.Ef(0)}for(c=
0;c<e.length;++c)this.Xl(e[c],b);a.clear();m.push(a);this.M=!0};p.prototype.Xl=function(a,e){var b,c,k;b=0;for(c=this.Cj.length;b<c;++b)this.Cj[b](a);a.Tc&&e.yj.update(a,a.Tc,null);(b=a.e)&&b.ye(a,!0);if(a.r)for(b=0,c=a.r.length;b<c;++b)k=a.r[b],k.Cg&&k.Cg(),k.behavior.oi.remove(a);this.Pk.remove(a);this.pi.remove(a);this.Qk.remove(a);a.Cg&&a.Cg();this.Cc.hasOwnProperty(a.uid.toString())&&delete this.Cc[a.uid.toString()];this.Bg--;100>e.Vf.length&&e.Vf.push(a)};var w=[];p.prototype.yd=function(a,
e,b,c,k,m){var d,f,r,g;if(!a)return null;var u=this.i[a[1]],p=u.na.bd;if(this.mf&&p&&!u.$h||p&&!this.m&&11===a[0][11])return null;var l=e;p||(e=null);var h;u.Vf.length?(h=u.Vf.pop(),h.wb=!0,u.na.Sb.call(h,u)):(h=new u.na.Sb(u),h.wb=!1);!b||m||this.Cc.hasOwnProperty(a[2].toString())?h.uid=this.zf++:h.uid=a[2];this.Cc[h.uid.toString()]=h;h.el=this.Nk++;h.Gd=u.d.length;d=0;for(f=this.Vb.length;d<f;++d)this.Vb[d].type===u&&h.Gd++;h.cf=qb;h.toString=rb;r=a[3];if(h.wb)La(h.I);else{h.I={};if("undefined"!==
typeof cr_is_preview)for(h.$j=[],h.$j.length=r.length,d=0,f=r.length;d<f;d++)h.$j[d]=r[d][1];h.ca=[];h.ca.length=r.length}d=0;for(f=r.length;d<f;d++)h.ca[d]=r[d][0];if(p){var t=a[0];h.x=fa(c)?t[0]:c;h.y=fa(k)?t[1]:k;h.z=t[2];h.width=t[3];h.height=t[4];h.depth=t[5];h.j=t[6];h.opacity=t[7];h.Sa=t[8];h.Ta=t[9];h.Ga=t[10];d=t[11];!this.m&&u.p.length&&(h.Ga=d);h.Ue=Wa(h.Ga);this.g&&Xa(h,h.Ga,this.g);if(h.wb){d=0;for(f=t[12].length;d<f;d++)for(r=0,g=t[12][d].length;r<g;r++)h.U[d][r]=t[12][d][r];h.wa.set(0,
0,0,0);h.Tc.set(0,0,-1,-1);h.Ja.set(0,0,-1,-1);h.xd.Kg(h.wa);h.gh.length=0}else{h.U=t[12].slice(0);d=0;for(f=h.U.length;d<f;d++)h.U[d]=t[12][d].slice(0);h.H=[];h.Oc=[];h.Oc.length=u.p.length;h.wa=new S(0,0,0,0);h.Tc=new S(0,0,-1,-1);h.Ja=new S(0,0,-1,-1);h.xd=new sa;h.gh=[];h.ia=ub;h.Tq=vb;h.ob=wb;h.pa=xb;h.Hp=yb;h.er=zb;h.Yb=Ab}h.Dp=!1;h.Fp=0;h.Ep=0;h.Cp=null;14===t.length&&(h.Dp=!0,h.Fp=t[13][0],h.Ep=t[13][1],h.Cp=t[13][2]);d=0;for(f=u.p.length;d<f;d++)h.Oc[d]=!0;h.Jc=Bb;h.Jc();h.Rl=!!h.H.length;
h.fh=!0;h.lh=!0;u.jj=!0;h.visible=!0;h.yf=-1;h.e=e;h.Rb=e.d.length;"undefined"===typeof h.Ub&&(h.Ub=null);this.M=h.Te=!0}var v;d=w.length=0;for(f=u.S.length;d<f;d++)w.push.apply(w,u.S[d].Z);w.push.apply(w,u.Z);if(h.wb)for(d=0,f=w.length;d<f;d++){var aa=w[d];v=h.r[d];v.wb=!0;aa.behavior.Sb.call(v,aa,h);t=a[4][d];r=0;for(g=t.length;r<g;r++)v.Da[r]=t[r];v.Ba();aa.behavior.oi.add(h)}else for(h.r=[],d=0,f=w.length;d<f;d++)aa=w[d],v=new aa.behavior.Sb(aa,h),v.wb=!1,v.Da=a[4][d].slice(0),v.Ba(),h.r.push(v),
aa.behavior.oi.add(h);t=a[5];if(h.wb)for(d=0,f=t.length;d<f;d++)h.Da[d]=t[d];else h.Da=t.slice(0);this.Vb.push(h);this.Yc=!0;e&&(e.Ne(h,!0),1!==e.Dc||1!==e.Ec)&&(u.kj=!0);this.Bg++;if(u.Lb){if(h.Lb=!0,h.wb?h.siblings.length=0:h.siblings=[],!b&&!m){d=0;for(f=u.Pa.length;d<f;d++)if(u.Pa[d]!==u){if(!u.Pa[d].Wb)return null;h.siblings.push(this.yd(u.Pa[d].Wb,l,!1,p?h.x:c,p?h.y:k,!0))}d=0;for(f=h.siblings.length;d<f;d++)for(h.siblings[d].siblings.push(h),r=0;r<f;r++)d!==r&&h.siblings[d].siblings.push(h.siblings[r])}}else h.Lb=
!1,h.siblings=null;h.Ba();d=0;for(f=h.r.length;d<f;d++)h.r[d].gp&&h.r[d].gp();return h};p.prototype.Nh=function(a){var e,b;e=0;for(b=this.O.u.length;e<b;e++){var c=this.O.u[e];if(Za(c.name,a))return c}return null};p.prototype.$e=function(a){a=Q(a);0>a&&(a=0);a>=this.O.u.length&&(a=this.O.u.length-1);return this.O.u[a]};p.prototype.qh=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].N().Q=!0};p.prototype.Df=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].Df()};p.prototype.yi=function(a){var e,
b;e=0;for(b=a.length;e<b;e++)a[e].yi()};p.prototype.ve=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].ve()};p.prototype.Ap=function(a,e,b){var c=a.N(),k,d,m,f,r,g;if(c.Q)for(c.Q=!1,k=c.d.length=0,f=a.d.length;k<f;k++)m=a.d[k],m.pa(),r=m.e.Oa(e,b,!0),g=m.e.Oa(e,b,!1),m.ob(r,g)&&c.d.push(m);else{k=d=0;for(f=c.d.length;k<f;k++)m=c.d[k],m.pa(),r=m.e.Oa(e,b,!0),g=m.e.Oa(e,b,!1),m.ob(r,g)&&(c.d[d]=c.d[k],d++);c.d.length=d}a.Pc();return c.Sh()};new sa;new S(0,0,0,0);p.prototype.Kl=function(a,e){if(!e)return!1;
var b,c,k,d,m;b=0;for(c=a.Z.length;b<c;b++)if(a.Z[b].behavior instanceof e)return!0;if(!a.F)for(b=0,c=a.S.length;b<c;b++)for(m=a.S[b],k=0,d=m.Z.length;k<d;k++)if(m.Z[k].behavior instanceof e)return!0;return!1};p.prototype.Ll=function(a){return this.Kl(a,Pb.pq)};p.prototype.Ui=function(a){return this.Kl(a,Pb.qq)};var u=-1;p.prototype.trigger=function(a,e,b){if(!this.O)return!1;var c=this.O.Bd;if(!c)return!1;var k=!1,d,m,f;u++;var r=c.wh;m=0;for(f=r.length;m<f;++m)d=this.Hl(a,e,r[m],b),k=k||d;d=this.Hl(a,
e,c,b);u--;return k||d};p.prototype.Hl=function(a,e,b,c){var k=!1,d,m,f,r;if(e)for(f=this.Si(a,e,e.type.name,b,c),k=k||f,r=e.type.S,d=0,m=r.length;d<m;++d)f=this.Si(a,e,r[d].name,b,c),k=k||f;else f=this.Si(a,e,"system",b,c),k=k||f;return k};p.prototype.Si=function(a,e,b,c,k){var d,m=!1,f=!1,f="undefined"!==typeof k,r=(f?c.Hj:c.Il)[b];if(!r)return m;var g=null;c=0;for(d=r.length;c<d;++c)if(r[c].method==a){g=r[c].Ye;break}if(!g)return m;var w;f?w=g[k]:w=g;if(!w)return null;c=0;for(d=w.length;c<d;c++)a=
w[c][0],k=w[c][1],f=this.Vn(e,b,a,k),m=m||f;return m};p.prototype.Vn=function(a,e,b,c){var k,d,m=!1;this.Ti++;var f=this.Ia().bb;f&&this.Df(f.od);var r=1<this.Ti;this.Df(b.od);r&&this.mp();var g=this.Ai(b);g.bb=b;a&&(k=this.types[e].N(),k.Q=!1,k.d.length=1,k.d[0]=a,this.types[e].Pc());a=!0;if(b.parent){e=g.xl;for(k=b.parent;k;)e.push(k),k=k.parent;e.reverse();k=0;for(d=e.length;k<d;k++)if(!e[k].rp()){a=!1;break}}a&&(this.Yf++,b.ac?b.qp(c):b.ga(),m=m||g.Ld);this.$k();r&&this.fp();this.ve(b.od);f&&
this.ve(f.od);this.Yc&&0===this.xc&&0===u&&!this.ai&&this.ua();this.Ti--;return m};p.prototype.Jh=function(){var a=this.Ia();return a.bb.xa[a.Ha]};p.prototype.mp=function(){this.yg++;this.yg>=this.mi.length&&this.mi.push([])};p.prototype.fp=function(){this.yg--};p.prototype.Mj=function(){return this.mi[this.yg]};p.prototype.Ai=function(a){this.Xf++;this.Xf>=this.zh.length&&this.zh.push(new Cb);var e=this.Ia();e.reset(a);return e};p.prototype.$k=function(){this.Xf--};p.prototype.Ia=function(){return this.zh[this.Xf]};
p.prototype.Oj=function(a,e){for(var b,c,k,d,m,f;e;){b=0;for(c=e.yb.length;b<c;b++)if(f=e.yb[b],f instanceof Db&&Za(a,f.name))return f;e=e.parent}b=0;for(c=this.rc.length;b<c;b++)for(m=this.rc[b],k=0,d=m.Wc.length;k<d;k++)if(f=m.Wc[k],f instanceof Db&&Za(a,f.name))return f;return null};p.prototype.Qj=function(a){var e,b;e=0;for(b=this.Mb.length;e<b;e++)if(this.Mb[e].D===a)return this.Mb[e];return null};p.prototype.fg=function(a){var e,b;e=0;for(b=this.i.length;e<b;e++)if(this.i[e].D===a)return this.i[e];
return null};p.prototype.co=function(a){var e,b;e=0;for(b=this.de.length;e<b;e++)if(this.de[e].D===a)return this.de[e];return null};p.prototype.Vm=function(a,e){this.Hf=[a,e];this.M=!0};p.prototype.Ao=function(){var a=this,e=this.Mi,b=this.zc,k=this.tg,m=!1;this.rl&&(m=!0,e="__c2_continuouspreview",this.rl=!1);if(e.length){this.ua();b=this.vp();if(window.indexedDB&&!this.Jb)v(e,b,function(){L("Saved state to IndexedDB storage ("+b.length+" bytes)");a.zc=b;a.trigger(Y.prototype.q.$g,null);a.zc="";
m&&c()},function(k){try{localStorage.setItem("__c2save_"+e,b),L("Saved state to WebStorage ("+b.length+" bytes)"),a.zc=b,a.trigger(Y.prototype.q.$g,null),a.zc="",m&&c()}catch(d){L("Failed to save game state: "+k+"; "+d)}});else try{localStorage.setItem("__c2save_"+e,b),L("Saved state to WebStorage ("+b.length+" bytes)"),a.zc=b,this.trigger(Y.prototype.q.$g,null),a.zc="",m&&c()}catch(f){L("Error saving to WebStorage: "+f)}this.Aa=this.tg=this.Mi=""}if(k.length){if(window.indexedDB&&!this.Jb)d(k,function(e){e?
(a.Aa=e,L("Loaded state from IndexedDB storage ("+a.Aa.length+" bytes)")):(a.Aa=localStorage.getItem("__c2save_"+k)||"",L("Loaded state from WebStorage ("+a.Aa.length+" bytes)"));a.If=!1;a.Aa.length||a.trigger(Y.prototype.q.Yg,null)},function(){a.Aa=localStorage.getItem("__c2save_"+k)||"";L("Loaded state from WebStorage ("+a.Aa.length+" bytes)");a.If=!1;a.Aa.length||a.trigger(Y.prototype.q.Yg,null)});else{try{this.Aa=localStorage.getItem("__c2save_"+k)||"",L("Loaded state from WebStorage ("+this.Aa.length+
" bytes)")}catch(r){this.Aa=""}this.If=!1;a.Aa.length||a.trigger(Y.prototype.q.Yg,null)}this.Mi=this.tg=""}this.Aa.length&&(this.ua(),this.Oo(this.Aa),this.zc=this.Aa,this.trigger(Y.prototype.q.pm,null),this.Aa=this.zc="")};p.prototype.vp=function(){var a,e,c,k,d,m,f,r={c2save:!0,version:1,rt:{time:this.cd.oa,walltime:this.Xg.oa,timescale:this.Kf,tickcount:this.ic,execcount:this.Yf,next_uid:this.zf,running_layout:this.O.D,start_time_offset:Date.now()-this.Mg},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(e=this.i.length;a<e;a++)if(d=this.i[a],!d.F&&!this.Ll(d)){m={instances:[]};Ka(d.I)&&(m.ex=b(d.I));c=0;for(k=d.d.length;c<k;c++)m.instances.push(this.Li(d.d[c]));r.types[d.D.toString()]=m}a=0;for(e=this.Mb.length;a<e;a++)c=this.Mb[a],r.layouts[c.D.toString()]=c.Pb();k=r.events.groups;a=0;for(e=this.de.length;a<e;a++)c=this.de[a],k[c.D.toString()]=this.gg[c.ef].df;e=r.events.cnds;for(f in this.ee)this.ee.hasOwnProperty(f)&&(a=this.ee[f],Ka(a.I)&&(e[f]={ex:b(a.I)}));
e=r.events.acts;for(f in this.be)this.be.hasOwnProperty(f)&&(a=this.be[f],Ka(a.I)&&(e[f]={ex:a.I}));e=r.events.vars;for(f in this.Je)this.Je.hasOwnProperty(f)&&(a=this.Je[f],a.lg||a.parent&&!a.lf||(e[f]=a.data));r.system=this.hc.Pb();return JSON.stringify(r)};p.prototype.gl=function(){var a,e,b,c,k,d;this.Cc={};a=0;for(e=this.i.length;a<e;a++)if(b=this.i[a],!b.F)for(c=0,k=b.d.length;c<k;c++)d=b.d[c],this.Cc[d.uid.toString()]=d};p.prototype.Oo=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var e=
a.rt;this.cd.reset();this.cd.oa=e.time;this.Xg.reset();this.Xg.oa=e.walltime||0;this.Kf=e.timescale;this.ic=e.tickcount;this.Yf=e.execcount;this.Mg=Date.now()-e.start_time_offset;var b=e.running_layout;if(b!==this.O.D)if(b=this.Qj(b))this.Dj(b);else return;var c,k,d,m,f,r,g;r=a.types;for(k in r)if(r.hasOwnProperty(k)&&(m=this.fg(parseInt(k,10)))&&!m.F&&!this.Ll(m)){r[k].ex?m.I=r[k].ex:La(m.I);f=m.d;d=r[k].instances;b=0;for(c=ma(f.length,d.length);b<c;b++)this.ug(f[b],d[b]);b=d.length;for(c=f.length;b<
c;b++)this.Yd(f[b]);b=f.length;for(c=d.length;b<c;b++){f=null;if(m.na.bd&&(f=this.O.eg(d[b].w.l),!f))continue;f=this.yd(m.Wb,f,!1,0,0,!0);this.ug(f,d[b])}m.Fe=!0}this.ua();this.gl();c=a.layouts;for(k in c)c.hasOwnProperty(k)&&(b=this.Qj(parseInt(k,10)))&&b.Ac(c[k]);c=a.events.groups;for(k in c)c.hasOwnProperty(k)&&(b=this.co(parseInt(k,10)))&&this.gg[b.ef]&&this.gg[b.ef].wp(c[k]);b=a.events.cnds;for(k in b)b.hasOwnProperty(k)&&this.ee.hasOwnProperty(k)&&(this.ee[k].I=b[k].ex);b=a.events.acts;for(k in b)b.hasOwnProperty(k)&&
this.be.hasOwnProperty(k)&&(this.be[k].I=b[k].ex);b=a.events.vars;for(k in b)b.hasOwnProperty(k)&&this.Je.hasOwnProperty(k)&&(this.Je[k].data=b[k]);this.zf=e.next_uid;this.hc.Ac(a.system);b=0;for(c=this.i.length;b<c;b++)if(m=this.i[b],!m.F)for(k=0,a=m.d.length;k<a;k++){f=m.d[k];if(m.Lb)for(r=f.cf(),e=f.siblings.length=0,d=m.Pa.length;e<d;e++)g=m.Pa[e],m!==g&&f.siblings.push(g.d[r]);f.td&&f.td();if(f.r)for(e=0,d=f.r.length;e<d;e++)r=f.r[e],r.td&&r.td()}this.M=!0}};p.prototype.Li=function(a,e){var c,
k,d,m,f;m=a.type;d=m.na;var r={};e?r.c2=!0:r.uid=a.uid;Ka(a.I)&&(r.ex=b(a.I));if(a.ca&&a.ca.length)for(r.ivs={},c=0,k=a.ca.length;c<k;c++)r.ivs[a.type.Xh[c].toString()]=a.ca[c];if(d.bd){d={x:a.x,y:a.y,w:a.width,h:a.height,l:a.e.D,zi:a.Yb()};0!==a.j&&(d.a=a.j);1!==a.opacity&&(d.o=a.opacity);.5!==a.Sa&&(d.hX=a.Sa);.5!==a.Ta&&(d.hY=a.Ta);0!==a.Ga&&(d.bm=a.Ga);a.visible||(d.v=a.visible);a.Te||(d.ce=a.Te);-1!==a.yf&&(d.mts=a.yf);if(m.p.length)for(d.fx=[],c=0,k=m.p.length;c<k;c++)f=m.p[c],d.fx.push({name:f.name,
active:a.Oc[f.index],params:a.U[f.index]});r.w=d}if(a.r&&a.r.length)for(r.behs={},c=0,k=a.r.length;c<k;c++)m=a.r[c],m.Pb&&(r.behs[m.type.D.toString()]=m.Pb());a.Pb&&(r.data=a.Pb());return r};p.prototype.fo=function(a,e){var b,c;b=0;for(c=a.Xh.length;b<c;b++)if(a.Xh[b]===e)return b;return-1};p.prototype.ao=function(a,e){var b,c;b=0;for(c=a.r.length;b<c;b++)if(a.r[b].type.D===e)return b;return-1};p.prototype.ug=function(a,e,b){var c,k,d,m,f;f=a.type;m=f.na;if(b){if(!e.c2)return}else a.uid=e.uid;e.ex?
a.I=e.ex:La(a.I);if(k=e.ivs)for(c in k)k.hasOwnProperty(c)&&(d=this.fo(f,parseInt(c,10)),0>d||d>=a.ca.length||(a.ca[d]=k[c]));if(m.bd){d=e.w;a.e.D!==d.l&&(k=a.e,a.e=this.O.eg(d.l),a.e?(k.ye(a,!0),a.e.Ne(a,!0),a.ia(),a.e.Ef(0)):(a.e=k,b||this.Yd(a)));a.x=d.x;a.y=d.y;a.width=d.w;a.height=d.h;a.Rb=d.zi;a.j=d.hasOwnProperty("a")?d.a:0;a.opacity=d.hasOwnProperty("o")?d.o:1;a.Sa=d.hasOwnProperty("hX")?d.hX:.5;a.Ta=d.hasOwnProperty("hY")?d.hY:.5;a.visible=d.hasOwnProperty("v")?d.v:!0;a.Te=d.hasOwnProperty("ce")?
d.ce:!0;a.yf=d.hasOwnProperty("mts")?d.mts:-1;a.Ga=d.hasOwnProperty("bm")?d.bm:0;a.Ue=Wa(a.Ga);this.g&&Xa(a,a.Ga,this.g);a.ia();if(d.hasOwnProperty("fx"))for(b=0,k=d.fx.length;b<k;b++)m=f.Lh(d.fx[b].name),0>m||(a.Oc[m]=d.fx[b].active,a.U[m]=d.fx[b].params);a.Jc()}if(f=e.behs)for(c in f)f.hasOwnProperty(c)&&(b=this.ao(a,parseInt(c,10)),0>b||a.r[b].Ac(f[c]));e.data&&a.Ac(e.data)};Eb=function(a){return new p(document.getElementById(a))};Fb=function(a,e){return new p({dc:!0,width:a,height:e})};window.cr_createRuntime=
Eb;window.cr_createDCRuntime=Fb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.mj=!0;document.body.appendChild(a);a=new p(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new p(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var l=document.getElementById("c2canvas");return l?l.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(l,h){var p=window.cr_getC2Runtime();p&&p.Vm(l,h)};window.cr_sizeCanvas=function(l,h){if(0!==l&&0!==h){var p=window.cr_getC2Runtime();p&&p.setSize(l,h)}};window.cr_setSuspended=function(l){var h=window.cr_getC2Runtime();h&&h.setSuspended(l)};
(function(){function l(a,b){this.b=a;this.Bd=null;this.scrollX=this.b.fa/2;this.scrollY=this.b.ea/2;this.scale=1;this.j=0;this.je=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Ml=b[3];this.ql=b[4];this.D=b[5];var c=b[6],d,f;this.u=[];this.hf=[];d=0;for(f=c.length;d<f;d++){var g=new Gb(this,c[d]);g.Ok=d;this.u.push(g)}c=b[7];this.Hd=[];d=0;for(f=c.length;d<f;d++){var g=c[d],n=this.b.i[g[1]];n.Wb||(n.Wb=g);this.Hd.push(g);-1===this.hf.indexOf(n)&&this.hf.push(n)}this.p=[];this.H=[];this.U=
[];d=0;for(f=b[8].length;d<f;d++)this.p.push({id:b[8][d][0],name:b[8][d][1],ta:-1,$a:!0,index:d}),this.U.push(b[8][d][2].slice(0));this.Jc();this.xe=new S(0,0,1,1);this.Di=new S(0,0,1,1);this.jd={}}function h(a,b){return a.Rb-b.Rb}function p(a,b){this.la=a;this.b=a.b;this.d=[];this.scale=1;this.j=0;this.Ad=!1;this.Hc=new S(0,0,0,0);this.Fl=new sa;this.aa=this.X=this.ba=this.W=0;this.Xd=!1;this.Lc=-1;this.name=b[0];this.index=b[1];this.D=b[2];this.visible=b[3];this.Qc=b[4];this.Ic=b[5];this.Dc=b[6];
this.Ec=b[7];this.opacity=b[8];this.Eh=b[9];this.Qb=b[10];this.Mc=b[11];this.Ga=b[12];this.pn=b[13];this.Ue="source-over";this.ya=this.Ca=0;this.Wa=null;this.qe=t();this.Fc=!0;this.ng=new S(0,0,-1,-1);this.qb=new S(0,0,-1,-1);this.Qb&&(this.Wa=new Va(this.b.fa,this.b.ea));this.md=!1;var c=b[14],d,f;this.wl=[];this.fb=[];this.Ve=[];d=0;for(f=c.length;d<f;d++){var g=c[d],n=this.b.i[g[1]];n.Wb||(n.Wb=g,n.Um=this.index);this.fb.push(g);-1===this.la.hf.indexOf(n)&&this.la.hf.push(n)}va(this.wl,this.fb);
this.p=[];this.H=[];this.U=[];d=0;for(f=b[15].length;d<f;d++)this.p.push({id:b[15][d][0],name:b[15][d][1],ta:-1,$a:!0,index:d}),this.U.push(b[15][d][2].slice(0));this.Jc();this.xe=new S(0,0,1,1);this.Di=new S(0,0,1,1)}function t(){return b.length?b.pop():[]}function v(a){a.length=0;b.push(a)}l.prototype.up=function(a){var b=a.type.D.toString();this.jd.hasOwnProperty(b)||(this.jd[b]=[]);this.jd[b].push(this.b.Li(a))};l.prototype.Uj=function(){var a=this.u[0];return!a.Ic&&1===a.opacity&&!a.Eh&&a.visible};
l.prototype.Jc=function(){this.H.length=0;var a,b,c;a=0;for(b=this.p.length;a<b;a++)c=this.p[a],c.$a&&this.H.push(c)};l.prototype.Kh=function(a){var b,c,d;b=0;for(c=this.p.length;b<c;b++)if(d=this.p[b],d.name===a)return d;return null};var d=[],c=!0;l.prototype.Pi=function(){this.ql&&(this.Bd=this.b.Ah[this.ql],this.Bd.Vi());this.b.O=this;this.scrollX=this.b.fa/2;this.scrollY=this.b.ea/2;var a,b,f,m,g,u,n;a=0;for(f=this.b.i.length;a<f;a++)if(b=this.b.i[a],!b.F)for(g=b.d,b=0,m=g.length;b<m;b++)if(u=
g[b],u.e){var e=u.e.Ok;e>=this.u.length&&(e=this.u.length-1);u.e=this.u[e];-1===u.e.d.indexOf(u)&&u.e.d.push(u);u.e.Xd=!0}if(!c)for(a=0,f=this.u.length;a<f;++a)this.u[a].d.sort(h);d.length=0;this.Km();a=0;for(f=this.u.length;a<f;a++)u=this.u[a],u.Tm(),u.Xi();g=!1;if(!this.je){for(n in this.jd)if(this.jd.hasOwnProperty(n)&&(b=this.b.fg(parseInt(n,10)))&&!b.F&&this.b.Ui(b)){m=this.jd[n];a=0;for(f=m.length;a<f;a++){u=null;if(b.na.bd&&(u=this.eg(m[a].w.l),!u))continue;u=this.b.yd(b.Wb,u,!1,0,0,!0);this.b.ug(u,
m[a]);g=!0;d.push(u)}m.length=0}a=0;for(f=this.u.length;a<f;a++)this.u[a].d.sort(h),this.u[a].Xd=!0}g&&(this.b.ua(),this.b.gl());for(a=0;a<d.length;a++)if(u=d[a],u.type.Lb)for(f=u.cf(),b=0,m=u.type.Pa.length;b<m;b++)n=u.type.Pa[b],u.type!==n&&(n.d.length>f?u.siblings.push(n.d[f]):n.Wb&&(g=this.b.yd(n.Wb,u.e,!0,u.x,u.y,!0),this.b.ua(),n.Ug(),u.siblings.push(g),d.push(g)));a=0;for(f=this.Hd.length;a<f;a++)this.b.yd(this.Hd[a],null,!0);this.b.Se=null;this.b.ua();if(this.b.L&&!this.b.za)for(a=0,f=this.b.i.length;a<
f;a++)n=this.b.i[a],!n.F&&n.d.length&&n.bl&&n.bl(this.b.L);a=0;for(f=d.length;a<f;a++)u=d[a],this.b.trigger(Object.getPrototypeOf(u.type.na).q.mm,u);d.length=0;this.b.trigger(Y.prototype.q.dj,null);this.je=!1};l.prototype.Sm=function(){var a,b,c,d,f;b=a=0;for(c=this.Hd.length;a<c;a++)d=this.Hd[a],f=this.b.i[d[1]],f.global?this.b.yd(d,null,!0):(this.Hd[b]=d,b++);this.Hd.length=b};l.prototype.zp=function(){this.b.trigger(Y.prototype.q.om,null);this.b.hc.La.length=0;var a,b,d,f,g,h;if(!this.je)for(a=
0,b=this.u.length;a<b;a++)for(this.u[a].Yi(),g=this.u[a].d,d=0,f=g.length;d<f;d++)h=g[d],h.type.global||this.b.Ui(h.type)&&this.up(h);a=0;for(b=this.u.length;a<b;a++){g=this.u[a].d;d=0;for(f=g.length;d<f;d++)h=g[d],h.type.global||this.b.Yd(h);this.b.ua();g.length=0;this.u[a].Xd=!0}a=0;for(b=this.b.i.length;a<b;a++)if(g=this.b.i[a],!(g.global||g.na.bd||g.na.Lg||g.F)){d=0;for(f=g.d.length;d<f;d++)this.b.Yd(g.d[d]);this.b.ua()}c=!1};new S(0,0,0,0);l.prototype.qc=function(a){var b,c=a,d=!1,f=!this.b.rb;
f&&(this.b.sg||(this.b.sg=document.createElement("canvas"),b=this.b.sg,b.width=this.b.C,b.height=this.b.B,this.b.pk=b.getContext("2d"),d=!0),b=this.b.sg,c=this.b.pk,b.width!==this.b.C&&(b.width=this.b.C,d=!0),b.height!==this.b.B&&(b.height=this.b.B,d=!0),d&&(c.webkitImageSmoothingEnabled=this.b.J,c.mozImageSmoothingEnabled=this.b.J,c.msImageSmoothingEnabled=this.b.J,c.imageSmoothingEnabled=this.b.J));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.bh&&!this.Uj()&&c.clearRect(0,0,this.b.C,
this.b.B);var g,n,d=0;for(g=this.u.length;d<g;d++)n=this.u[d],n.visible&&0<n.opacity&&11!==n.Ga&&(n.d.length||!n.Ic)?n.qc(c):n.Xi();f&&a.drawImage(b,0,0,this.b.width,this.b.height)};l.prototype.Gb=function(a){var b=0<this.H.length||this.b.He||!this.b.rb;if(b){this.b.Ua||(this.b.Ua=a.nc(this.b.C,this.b.B,this.b.J));if(this.b.Ua.Re!==this.b.C||this.b.Ua.Qe!==this.b.B)a.deleteTexture(this.b.Ua),this.b.Ua=a.nc(this.b.C,this.b.B,this.b.J);a.fc(this.b.Ua);this.b.rb||a.Ce(this.b.C,this.b.B)}else this.b.Ua&&
(a.fc(null),a.deleteTexture(this.b.Ua),this.b.Ua=null);this.b.bh&&!this.Uj()&&a.clear(0,0,0,0);var c,d,f;c=0;for(d=this.u.length;c<d;c++)f=this.u[c],f.visible&&0<f.opacity&&(f.d.length||!f.Ic)?f.Gb(a):f.Xi();b&&(0===this.H.length||1===this.H.length&&this.b.rb?(1===this.H.length?(b=this.H[0].index,a.gc(this.H[0].ta),a.Be(null,1/this.b.C,1/this.b.B,0,0,1,1,this.scale,this.j,0,0,this.b.C/2,this.b.B/2,this.U[b]),a.Eg(this.H[0].ta)&&(this.b.M=!0)):a.gc(0),this.b.rb||a.Ce(this.b.width,this.b.height),a.fc(null),
a.Ae(1),a.hb(this.b.Ua),a.ml(),a.ec(),a.jc(),b=this.b.width/2,c=this.b.height/2,a.Gg(-b,c,b,c,b,-c,-b,-c),a.hb(null)):this.Ei(a,null,null,null))};l.prototype.bf=function(){return 0<this.H.length||this.b.He||!this.b.rb?this.b.Ua:null};l.prototype.Rj=function(){var a=this.u[0].eb(),b,c,d;b=1;for(c=this.u.length;b<c;b++)d=this.u[b],(0!==d.Dc||0!==d.Ec)&&d.eb()<a&&(a=d.eb());return a};l.prototype.kl=function(a){if(!this.Ml){var b=1/this.Rj()*this.b.C/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==
a&&(this.scrollX=a,this.b.M=!0)};l.prototype.ll=function(a){if(!this.Ml){var b=1/this.Rj()*this.b.B/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.M=!0)};l.prototype.Km=function(){this.kl(this.scrollX);this.ll(this.scrollY)};l.prototype.Ei=function(a,b,c,d){var f=c?c.H:b?b.H:this.H,g=1,n=0,e=0,q=0,h=this.b.C,p=this.b.B;c?(g=c.e.eb(),n=c.e.cb(),e=c.e.W,q=c.e.X,h=c.e.ba,p=c.e.aa):b&&(g=b.eb(),n=b.cb(),e=b.W,q=b.X,h=b.ba,p=b.aa);var l=this.b.Hh,t,v,F,A,I=0,Ma=
1,ia,N=this.b.C,K=this.b.B,ya=N/2,aa=K/2,R=b?b.xe:this.xe,y=b?b.Di:this.Di,z=0,O=0,B=0,H=0,D=N,ka=N,G=K,la=K,da=F=0,pa=c?c.e.cb():0;if(c){t=0;for(v=f.length;t<v;t++)F+=a.jo(f[t].ta),da+=a.ko(f[t].ta);A=c.wa;z=b.da(A.left,A.top,!0);B=b.da(A.left,A.top,!1);D=b.da(A.right,A.bottom,!0);G=b.da(A.right,A.bottom,!1);0!==pa&&(t=b.da(A.right,A.top,!0),v=b.da(A.right,A.top,!1),O=b.da(A.left,A.bottom,!0),H=b.da(A.left,A.bottom,!1),A=Math.min(z,D,t,O),D=Math.max(z,D,t,O),z=A,A=Math.min(B,G,v,H),G=Math.max(B,
G,v,H),B=A);z-=F;B-=da;D+=F;G+=da;y.left=z/N;y.top=1-B/K;y.right=D/N;y.bottom=1-G/K;O=z=Q(z);H=B=Q(B);ka=D=oa(D);la=G=oa(G);O-=F;H-=da;ka+=F;la+=da;0>z&&(z=0);0>B&&(B=0);D>N&&(D=N);G>K&&(G=K);0>O&&(O=0);0>H&&(H=0);ka>N&&(ka=N);la>K&&(la=K);R.left=z/N;R.top=1-B/K;R.right=D/N;R.bottom=1-G/K}else R.left=y.left=0,R.top=y.top=0,R.right=y.right=1,R.bottom=y.bottom=1;da=c&&((c.j||pa)&&a.Bf(f[0].ta)||0!==F||0!==da||1!==c.opacity||c.type.na.Kk)||b&&!c&&1!==b.opacity;a.ml();if(da){l[I]||(l[I]=a.nc(N,K,this.b.J));
if(l[I].Re!==N||l[I].Qe!==K)a.deleteTexture(l[I]),l[I]=a.nc(N,K,this.b.J);a.gc(0);a.fc(l[I]);ia=la-H;a.clearRect(O,K-H-ia,ka-O,ia);c?c.Gb(a):(a.hb(this.b.gb),a.Ae(b.opacity),a.ec(),a.translate(-ya,-aa),a.jc(),a.ld(z,G,D,G,D,B,z,B,R));y.left=y.top=0;y.right=y.bottom=1;c&&(A=R.top,R.top=R.bottom,R.bottom=A);I=1;Ma=0}a.Ae(1);F=f.length-1;var pa=a.xi(f[F].ta)||!b&&!c&&!this.b.rb,qa=0;t=0;for(v=f.length;t<v;t++){l[I]||(l[I]=a.nc(N,K,this.b.J));if(l[I].Re!==N||l[I].Qe!==K)a.deleteTexture(l[I]),l[I]=a.nc(N,
K,this.b.J);a.gc(f[t].ta);qa=f[t].index;a.Eg(f[t].ta)&&(this.b.M=!0);0!=t||da?(a.Be(d,1/N,1/K,y.left,y.top,y.right,y.bottom,g,n,e,q,(e+h)/2,(q+p)/2,c?c.U[qa]:b?b.U[qa]:this.U[qa]),a.hb(null),t!==F||pa?(a.fc(l[I]),ia=la-H,A=K-H-ia,a.clearRect(O,A,ka-O,ia)):(c?a.nd(c.Ca,c.ya):b&&a.nd(b.Ca,b.ya),a.fc(d)),a.hb(l[Ma]),a.ec(),a.translate(-ya,-aa),a.jc(),a.ld(z,G,D,G,D,B,z,B,R),t!==F||pa||a.hb(null)):(a.fc(l[I]),ia=la-H,A=K-H-ia,a.clearRect(O,A,ka-O,ia),c?(a.Be(d,1/c.width,1/c.height,y.left,y.top,y.right,
y.bottom,g,n,e,q,(e+h)/2,(q+p)/2,c.U[qa]),c.Gb(a)):(a.Be(d,1/N,1/K,0,0,1,1,g,n,e,q,(e+h)/2,(q+p)/2,b?b.U[qa]:this.U[qa]),a.hb(b?this.b.gb:this.b.Ua),a.ec(),a.translate(-ya,-aa),a.jc(),a.ld(z,G,D,G,D,B,z,B,R)),y.left=y.top=0,y.right=y.bottom=1,c&&!pa&&(A=G,G=B,B=A));I=0===I?1:0;Ma=0===I?1:0}pa&&(a.gc(0),c?a.nd(c.Ca,c.ya):b?a.nd(b.Ca,b.ya):this.b.rb||(a.Ce(this.b.width,this.b.height),ya=this.b.width/2,aa=this.b.height/2,B=z=0,D=this.b.width,G=this.b.height),a.fc(d),a.hb(l[Ma]),a.ec(),a.translate(-ya,
-aa),a.jc(),c&&1===f.length&&!da?a.ld(z,B,D,B,D,G,z,G,R):a.ld(z,G,D,G,D,B,z,B,R),a.hb(null))};l.prototype.eg=function(a){var b,c;b=0;for(c=this.u.length;b<c;b++)if(this.u[b].D===a)return this.u[b];return null};l.prototype.Pb=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.je,persist:this.jd,fx:[],layers:{}};a=0;for(b=this.p.length;a<b;a++)c=this.p[a],d.fx.push({name:c.name,active:c.$a,params:this.U[c.index]});a=0;for(b=this.u.length;a<
b;a++)c=this.u[a],d.layers[c.D.toString()]=c.Pb();return d};l.prototype.Ac=function(a){var b,c,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.jd=a.persist;"undefined"!==typeof a.fv&&(this.je=a.fv);var g=a.fx;b=0;for(c=g.length;b<c;b++)if(d=this.Kh(g[b].name))d.$a=g[b].active,this.U[d.index]=g[b].params;this.Jc();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.eg(parseInt(f,10)))&&a.Ac(b[f])};sb=l;p.prototype.Jc=function(){this.H.length=0;var a,
b,c;a=0;for(b=this.p.length;a<b;a++)c=this.p[a],c.$a&&this.H.push(c)};p.prototype.Kh=function(a){var b,c,d;b=0;for(c=this.p.length;b<c;b++)if(d=this.p[b],d.name===a)return d;return null};p.prototype.Tm=function(){var a,b,c,f,g,h;b=a=0;for(c=this.fb.length;a<c;a++){f=this.fb[a];g=this.b.i[f[1]];h=this.b.Ui(g);g=!0;if(!h||this.la.je)f=this.b.yd(f,this,!0),d.push(f),f.type.global&&(g=!1,this.Ve.push(f.uid));g&&(this.fb[b]=this.fb[a],b++)}this.fb.length=b;this.b.ua();!this.b.m&&this.p.length&&(this.Ga=
this.pn);this.Ue=Wa(this.Ga);this.b.g&&Xa(this,this.Ga,this.b.g);this.Fc=!0};p.prototype.ye=function(a,b){var c=xa(this.d,a);0>c||(b&&this.Qb&&a.Ja&&a.Ja.right>=a.Ja.left&&(a.pa(),this.Wa.update(a,a.Ja,null),a.Ja.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(ua(this.d,c),this.Ef(c)),this.Fc=!0)};p.prototype.Ne=function(a,b){a.Rb=this.d.length;this.d.push(a);b&&this.Qb&&a.Ja&&a.ia();this.Fc=!0};p.prototype.jp=function(a){this.d.unshift(a);this.Ef(0)};p.prototype.To=function(a,b,c){var d=a.Yb();
b=b.Yb();ua(this.d,d);d<b&&b--;c&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.Ef(d<b?d:b)};p.prototype.Ef=function(a){-1===this.Lc?this.Lc=a:a<this.Lc&&(this.Lc=a);this.Fc=this.Xd=!0};p.prototype.Yi=function(){if(this.Xd){-1===this.Lc&&(this.Lc=0);var a,b,c;if(this.Qb)for(a=this.Lc,b=this.d.length;a<b;++a)c=this.d[a],c.Rb=a,this.Wa.Ro(c.Ja);else for(a=this.Lc,b=this.d.length;a<b;++a)this.d[a].Rb=a;this.Xd=!1;this.Lc=-1}};p.prototype.eb=function(a){return this.ho()*(this.b.rb||a?
this.b.Oe:1)};p.prototype.ho=function(){return(this.scale*this.la.scale-1)*this.Mc+1};p.prototype.cb=function(){return this.Ad?0:Ca(this.la.j+this.j)};var b=[],f=[],g=[];p.prototype.Tj=function(){this.Yi();this.Wa.fl(this.W,this.X,this.ba,this.aa,g);if(!g.length)return t();if(1===g.length){var a=t();va(a,g[0]);g.length=0;return a}for(var b=!0;1<g.length;){for(var a=g,c=void 0,d=void 0,h=void 0,u=void 0,n=void 0,c=0,d=a.length;c<d-1;c+=2){var h=a[c],u=a[c+1],n=t(),e=h,q=u,p=n,l=0,x=0,U=0,Z=e.length,
F=q.length,A=void 0,I=void 0;for(p.length=Z+F;l<Z&&x<F;++U)A=e[l],I=q[x],A.Rb<I.Rb?(p[U]=A,++l):(p[U]=I,++x);for(;l<Z;++l,++U)p[U]=e[l];for(;x<F;++x,++U)p[U]=q[x];b||(v(h),v(u));f.push(n)}1===d%2&&(b?(h=t(),va(h,a[d-1]),f.push(h)):f.push(a[d-1]));va(a,f);f.length=0;b=!1}a=g[0];g.length=0;return a};p.prototype.qc=function(a){this.md=this.Eh||1!==this.opacity||0!==this.Ga;var b=this.b.canvas,c=a,d=!1;this.md&&(this.b.rg||(this.b.rg=document.createElement("canvas"),b=this.b.rg,b.width=this.b.C,b.height=
this.b.B,this.b.ok=b.getContext("2d"),d=!0),b=this.b.rg,c=this.b.ok,b.width!==this.b.C&&(b.width=this.b.C,d=!0),b.height!==this.b.B&&(b.height=this.b.B,d=!0),d&&(c.webkitImageSmoothingEnabled=this.b.J,c.mozImageSmoothingEnabled=this.b.J,c.msImageSmoothingEnabled=this.b.J,c.imageSmoothingEnabled=this.b.J),this.Ic&&c.clearRect(0,0,this.b.C,this.b.B));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Ic||(c.fillStyle="rgb("+this.Qc[0]+","+this.Qc[1]+","+this.Qc[2]+")",c.fillRect(0,0,this.b.C,
this.b.B));c.save();this.Ad=!0;var d=this.Oa(0,0,!0,!0),f=this.Oa(0,0,!1,!0);this.Ad=!1;this.b.kd&&(d=Math.round(d),f=Math.round(f));this.Gi(d,f,c);var g=this.eb();c.scale(g,g);c.translate(-d,-f);this.Qb?(this.qb.left=this.Wa.Ya(this.W),this.qb.top=this.Wa.Za(this.X),this.qb.right=this.Wa.Ya(this.ba),this.qb.bottom=this.Wa.Za(this.aa),this.Fc||!this.qb.Wf(this.ng)?(v(this.qe),d=this.Tj(),this.Fc=!1,this.ng.Qf(this.qb)):d=this.qe):d=this.d;for(var h,e=null,f=0,g=d.length;f<g;++f)h=d[f],h!==e&&(this.ln(h,
c),e=h);this.Qb&&(this.qe=d);c.restore();this.md&&(a.globalCompositeOperation=this.Ue,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};p.prototype.ln=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.pa();var c=a.wa;c.right<this.W||c.bottom<this.X||c.left>this.ba||c.top>this.aa||(b.globalCompositeOperation=a.Ue,a.qc(b))}};p.prototype.Xi=function(){this.Ad=!0;var a=this.Oa(0,0,!0,!0),b=this.Oa(0,0,!1,!0);this.Ad=!1;this.b.kd&&(a=Math.round(a),b=Math.round(b));this.Gi(a,b,null)};p.prototype.Gi=
function(a,b,c){var d=this.eb();this.W=a;this.X=b;this.ba=a+1/d*this.b.C;this.aa=b+1/d*this.b.B;a=this.cb();0!==a&&(c&&(c.translate(this.b.C/2,this.b.B/2),c.rotate(-a),c.translate(this.b.C/-2,this.b.B/-2)),this.Hc.set(this.W,this.X,this.ba,this.aa),this.Hc.offset((this.W+this.ba)/-2,(this.X+this.aa)/-2),this.Fl.ol(this.Hc,a),this.Fl.sj(this.Hc),this.Hc.offset((this.W+this.ba)/2,(this.X+this.aa)/2),this.W=this.Hc.left,this.X=this.Hc.top,this.ba=this.Hc.right,this.aa=this.Hc.bottom)};p.prototype.Gb=
function(a){var b=0,c=0;if(this.md=this.Eh||1!==this.opacity||0<this.H.length||0!==this.Ga){this.b.gb||(this.b.gb=a.nc(this.b.C,this.b.B,this.b.J));if(this.b.gb.Re!==this.b.C||this.b.gb.Qe!==this.b.B)a.deleteTexture(this.b.gb),this.b.gb=a.nc(this.b.C,this.b.B,this.b.J);a.fc(this.b.gb);this.Ic&&a.clear(0,0,0,0)}this.Ic||a.clear(this.Qc[0]/255,this.Qc[1]/255,this.Qc[2]/255,1);this.Ad=!0;var d=this.Oa(0,0,!0,!0),b=this.Oa(0,0,!1,!0);this.Ad=!1;this.b.kd&&(d=Math.round(d),b=Math.round(b));this.Gi(d,b,
null);d=this.eb();a.ec();a.scale(d,d);a.Hi(-this.cb());a.translate((this.W+this.ba)/-2,(this.X+this.aa)/-2);a.jc();this.Qb?(this.qb.left=this.Wa.Ya(this.W),this.qb.top=this.Wa.Za(this.X),this.qb.right=this.Wa.Ya(this.ba),this.qb.bottom=this.Wa.Za(this.aa),this.Fc||!this.qb.Wf(this.ng)?(v(this.qe),b=this.Tj(),this.Fc=!1,this.ng.Qf(this.qb)):b=this.qe):b=this.d;var f,g,h=null,c=0;for(f=b.length;c<f;++c)g=b[c],g!==h&&(this.mn(b[c],a),h=g);this.Qb&&(this.qe=b);this.md&&(b=this.H.length?this.H[0].ta:0,
c=this.H.length?this.H[0].index:0,0===this.H.length||1===this.H.length&&!a.xi(b)&&1===this.opacity?(1===this.H.length?(a.gc(b),a.Be(this.la.bf(),1/this.b.C,1/this.b.B,0,0,1,1,d,this.cb(),this.W,this.X,(this.W+this.ba)/2,(this.X+this.aa)/2,this.U[c]),a.Eg(b)&&(this.b.M=!0)):a.gc(0),a.fc(this.la.bf()),a.Ae(this.opacity),a.hb(this.b.gb),a.nd(this.Ca,this.ya),a.ec(),a.jc(),d=this.b.C/2,b=this.b.B/2,a.Gg(-d,b,d,b,d,-b,-d,-b),a.hb(null)):this.la.Ei(a,this,null,this.la.bf()))};p.prototype.mn=function(a,
b){if(a.visible&&0!==a.width&&0!==a.height){a.pa();var c=a.wa;c.right<this.W||c.bottom<this.X||c.left>this.ba||c.top>this.aa||(a.Rl?this.nn(a,b):(b.gc(0),b.nd(a.Ca,a.ya),a.Gb(b)))}};p.prototype.nn=function(a,b){var c=a.H[0].ta,d=a.H[0].index,f=this.eb();if(1!==a.H.length||b.xi(c)||b.lp(c)||(a.j||a.e.cb())&&b.Bf(c)||1!==a.opacity||a.type.na.Kk)this.la.Ei(b,this,a,this.md?this.b.gb:this.la.bf()),b.ec(),b.scale(f,f),b.Hi(-this.cb()),b.translate((this.W+this.ba)/-2,(this.X+this.aa)/-2),b.jc();else{b.gc(c);
b.nd(a.Ca,a.ya);b.Eg(c)&&(this.b.M=!0);var g=0,h=0,e=0,q=0;b.Bf(c)&&(c=a.wa,g=this.da(c.left,c.top,!0),h=this.da(c.left,c.top,!1),e=this.da(c.right,c.bottom,!0),c=this.da(c.right,c.bottom,!1),g=g/windowWidth,h=1-h/windowHeight,e=e/windowWidth,q=1-c/windowHeight);b.Be(this.md?this.b.gb:this.la.bf(),1/a.width,1/a.height,g,h,e,q,f,this.cb(),this.W,this.X,(this.W+this.ba)/2,(this.X+this.aa)/2,a.U[d]);a.Gb(b)}};p.prototype.Oa=function(a,b,c,d){var f=this.b.devicePixelRatio;this.b.ke&&(a*=f,b*=f);var f=
this.b.Vk,g=this.b.Wk,f=(this.la.scrollX-f)*this.Dc+f,g=(this.la.scrollY-g)*this.Ec+g,h=f,e=g,q=1/this.eb(!d);d?(h-=this.b.C*q/2,e-=this.b.B*q/2):(h-=this.b.width*q/2,e-=this.b.height*q/2);h+=a*q;e+=b*q;b=this.cb();0!==b&&(h-=f,e-=g,a=Math.cos(b),b=Math.sin(b),d=h*a-e*b,e=e*a+h*b,h=d+f,e+=g);return c?h:e};p.prototype.da=function(a,b,c){var d=this.b.Vk,f=this.b.Wk,d=(this.la.scrollX-d)*this.Dc+d,g=(this.la.scrollY-f)*this.Ec+f,f=d,h=g,e=this.cb();if(0!==e){a-=d;b-=g;var q=Math.cos(-e),e=Math.sin(-e),
p=a*q-b*e;b=b*q+a*e;a=p+d;b+=g}d=1/this.eb(!1);f-=this.b.C*d/2;h-=this.b.B*d/2;f=(a-f)/d;return c?f:(b-h)/d};p.prototype.Pb=function(){var a,b,c,d={s:this.scale,a:this.j,vl:this.W,vt:this.X,vr:this.ba,vb:this.aa,v:this.visible,bc:this.Qc,t:this.Ic,px:this.Dc,py:this.Ec,o:this.opacity,zr:this.Mc,fx:[],cg:this.Ve,instances:[]};a=0;for(b=this.p.length;a<b;a++)c=this.p[a],d.fx.push({name:c.name,active:c.$a,params:this.U[c.index]});return d};p.prototype.Ac=function(a){var b,c,d;this.scale=a.s;this.j=a.a;
this.W=a.vl;this.X=a.vt;this.ba=a.vr;this.aa=a.vb;this.visible=a.v;this.Qc=a.bc;this.Ic=a.t;this.Dc=a.px;this.Ec=a.py;this.opacity=a.o;this.Mc=a.zr;this.Ve=a.cg||[];va(this.fb,this.wl);var f=new E;b=0;for(d=this.Ve.length;b<d;++b)f.add(this.Ve[b]);c=b=0;for(d=this.fb.length;b<d;++b)f.contains(this.fb[b][2])||(this.fb[c]=this.fb[b],++c);this.fb.length=c;c=a.fx;b=0;for(d=c.length;b<d;b++)if(a=this.Kh(c[b].name))a.$a=c[b].active,this.U[a.index]=c[b].params;this.Jc();this.d.sort(h);this.Xd=!0};Gb=p})();
(function(){function l(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function h(a,b){return a.index-b.index}function p(a){var b,c,d,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(h);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);f=w[a.length];b=0;for(c=f.length;b<c;b++)if(d=f[b],l(a,d))return d;f.push(a);return a}
function t(a,b){this.b=a;this.Il={};this.Hj={};this.Th=!1;this.Wj=new E;this.wh=[];this.dh=[];this.name=b[0];var c=b[1];this.Wc=[];var d,f;d=0;for(f=c.length;d<f;d++)this.Yj(c[d],null,this.Wc)}function v(a){this.type=a;this.d=[];this.G=[];this.Q=!0}function d(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.R=[];this.od=[];this.Vj=this.Rg=this.Ri=this.Vh=this.group=this.ul=!1;this.xa=[];this.Db=[];this.yb=[];this.ef="";this.df=this.Vh=this.group=!1;this.Pf=null;c[1]&&(this.ef=c[1][1].toLowerCase(),
this.group=!0,this.Vh=!!c[1][0],this.Pf=[],this.df=this.Vh,this.b.de.push(this),this.b.gg[this.ef]=this);this.ac=c[2];this.D=c[4];this.group||(this.b.rj[this.D.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Hb(this,d[a]);f.index=a;this.xa.push(f);this.gj(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Ib(this,d[a]),f.index=a,this.Db.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Yj(c[a],this,this.yb);this.mg=!1;this.xa.length&&(this.mg=null==this.xa[0].type&&
this.xa[0].qa==Y.prototype.q.$l)}function c(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Lb))for(c=0,d=a.Pa.length;c<d;c++)f=a.Pa[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function b(a,b){this.ab=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.V=[];this.I={};this.index=-1;this.Le=!1;this.qa=this.b.Nc(b[1]);this.trigger=0<b[3];this.Gj=2===b[3];this.Yh=b[5];this.No=b[6];this.D=b[7];this.b.ee[this.D.toString()]=this;-1===b[0]?(this.type=null,this.ga=this.Ki,this.wd=null,this.Fb=-1):(this.type=this.b.i[b[0]],
this.ga=this.No?this.sp:this.Ji,b[2]?(this.wd=this.type.dg(b[2]),this.Fb=this.type.Ih(b[2])):(this.wd=null,this.Fb=-1),this.ab.parent&&this.ab.parent.Jg());this.Gj&&(this.ga=this.tp);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var g=new Jb(this,f[c]);this.A.push(g)}this.V.length=f.length}}function f(a,b){this.ab=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.V=[];this.I={};this.index=-1;this.Le=!1;this.qa=this.b.Nc(b[1]);-1===b[0]?(this.type=null,this.ga=this.Ki,this.wd=null,this.Fb=
-1):(this.type=this.b.i[b[0]],this.ga=this.Ji,b[2]?(this.wd=this.type.dg(b[2]),this.Fb=this.type.Ih(b[2])):(this.wd=null,this.Fb=-1));this.D=b[3];this.b.be[this.D.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var g=new Jb(this,f[c]);this.A.push(g)}this.V.length=f.length}}function g(){n++;u.length===n&&u.push(new Kb);return u[n]}function a(a,b){this.ub=a;this.ab=a.ab;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Xb=null;this.Gc=0;this.get=null;this.zj=0;this.la=null;
this.key=0;this.object=null;this.index=0;this.Lf=this.Ud=this.Lf=this.Ud=this.Ij=this.Cd=this.Mf=null;this.Cb=!1;var c,d,f;switch(b[0]){case 0:case 7:this.Xb=new W(this,b[1]);this.Gc=0;this.get=this.po;break;case 1:this.Xb=new W(this,b[1]);this.Gc=0;this.get=this.qo;break;case 5:this.Xb=new W(this,b[1]);this.Gc=0;this.get=this.uo;break;case 3:case 8:this.zj=b[1];this.get=this.no;break;case 6:this.la=this.b.hi[b[1]];this.get=this.vo;break;case 9:this.key=b[1];this.get=this.to;break;case 4:this.object=
this.b.i[b[1]];this.get=this.wo;this.ab.gj(this.object);this.ub instanceof Ib?this.ab.Jg():this.ab.parent&&this.ab.parent.Jg();break;case 10:this.index=b[1];a.type.F?(this.get=this.ro,this.Cb=!0):this.get=this.so;break;case 11:this.Mf=b[1];this.Cd=null;this.get=this.oo;break;case 2:case 12:this.Ij=b[1];this.get=this.mo;break;case 13:for(this.get=this.xo,this.Ud=[],this.Lf=[],c=1,d=b.length;c<d;c++)f=new Jb(this.ub,b[c]),this.Ud.push(f),this.Lf.push(0)}}function k(a,b,c){this.sheet=a;this.parent=b;
this.b=a.b;this.R=[];this.name=c[1];this.$i=c[2];this.ig=c[3];this.lf=!!c[4];this.lg=!!c[5];this.D=c[6];this.b.Je[this.D.toString()]=this;this.data=this.ig;this.parent?(this.Qd=this.lf||this.lg?-1:this.b.yp++,this.b.Gm.push(this)):(this.Qd=-1,this.b.ah.push(this))}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.R=[];this.gf=null;this.Co=c[1];this.$a=!0}function m(){this.xl=[];this.reset(null)}var w=[];t.prototype.toString=function(){return this.name};t.prototype.Yj=function(a,b,c){switch(a[0]){case 0:a=
new Lb(this,b,a);if(a.ac)for(c.push(a),c=0,b=a.xa.length;c<b;c++)a.xa[c].trigger&&this.Zj(a,c);else a.gk()?this.Zj(a,0):c.push(a);break;case 1:a=new Db(this,b,a);c.push(a);break;case 2:a=new Mb(this,b,a),c.push(a)}};t.prototype.Y=function(){var a,b;a=0;for(b=this.Wc.length;a<b;a++)this.Wc[a].Y(a<b-1&&this.Wc[a+1].mg)};t.prototype.Vi=function(){this.wh.length=0;this.dh.length=0;this.fj(this);this.dh.length=0};t.prototype.fj=function(a){var b,c,d,f,g=a.wh,m=a.dh,k=this.Wj.rd();b=0;for(c=k.length;b<
c;++b)d=k[b],f=d.gf,!d.$a||a===f||-1<m.indexOf(f)||(m.push(f),f.fj(a),g.push(f))};t.prototype.ga=function(a){this.b.Zq||(this.Th=!0,a||(this.b.ai=!0));var b,c;b=0;for(c=this.Wc.length;b<c;b++){var d=this.Wc[b];d.ga();this.b.qh(d.R);this.b.Yc&&this.b.ua()}a||(this.b.ai=!1)};t.prototype.Zj=function(a,b){a.ac||this.b.Tg.push(a);var c,d,f=a.xa[b],g;f.type?g=f.type.name:g="system";var m=(c=f.Gj)?this.Hj:this.Il;m[g]||(m[g]=[]);g=m[g];m=f.qa;if(c){if(f.A.length&&(f=f.A[0],1===f.type&&2===f.Xb.type)){f=
f.Xb.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==m){c=g[c].Ye;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];g.push({method:m,Ye:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==m){g[c].Ye.push([a,b]);return}Yb&&m===Yb.prototype.q.ae?g.unshift({method:m,Ye:[[a,b]]}):g.push({method:m,Ye:[[a,b]]})}};tb=t;v.prototype.Sh=function(){return this.Q?this.type.d.length:this.d.length};v.prototype.Hb=function(){return this.Q?this.type.d:this.d};v.prototype.Af=function(a){a&&
(a.b.Ia().bb.ac?(this.Q&&(this.d.length=0,va(this.G,a.type.d),this.Q=!1),a=this.G.indexOf(a),-1!==a&&(this.d.push(this.G[a]),this.G.splice(a,1))):(this.Q=!1,this.d.length=1,this.d[0]=a))};cb=v;window._c2hh_="";d.prototype.Y=function(a){var b,c=this.parent;if(this.group)for(this.Rg=!0;c;){if(!c.group){this.Rg=!1;break}c=c.parent}this.Ri=!this.gk()&&(!this.parent||this.parent.group&&this.parent.Rg);this.Vj=!!a;this.od=this.R.slice(0);for(c=this.parent;c;){a=0;for(b=c.R.length;a<b;a++)this.Fm(c.R[a]);
c=c.parent}this.R=p(this.R);this.od=p(this.od);a=0;for(b=this.xa.length;a<b;a++)this.xa[a].Y();a=0;for(b=this.Db.length;a<b;a++)this.Db[a].Y();a=0;for(b=this.yb.length;a<b;a++)this.yb[a].Y(a<b-1&&this.yb[a+1].mg)};d.prototype.wp=function(a){if(this.df!==!!a){this.df=!!a;var b;a=0;for(b=this.Pf.length;a<b;++a)this.Pf[a].Pl();0<b&&this.b.O.Bd&&this.b.O.Bd.Vi()}};d.prototype.gj=function(a){c(a,this.R)};d.prototype.Fm=function(a){c(a,this.od)};d.prototype.Jg=function(){this.ul=!0;this.parent&&this.parent.Jg()};
d.prototype.gk=function(){return this.xa.length?this.xa[0].trigger:!1};d.prototype.ga=function(){var a,b=!1,c,d=this.b,f=this.b.Ia();f.bb=this;var g=this.xa;this.mg||(f.yh=!1);if(this.ac){0===g.length&&(b=!0);f.Ha=0;for(a=g.length;f.Ha<a;f.Ha++)g[f.Ha].trigger||(c=g[f.Ha].ga())&&(b=!0);(f.Ld=b)&&this.Ii()}else{f.Ha=0;for(a=g.length;f.Ha<a;f.Ha++)if(c=g[f.Ha].ga(),!c){f.Ld=!1;this.Ri&&d.Yc&&d.ua();return}f.Ld=!0;this.Ii()}this.rn(f)};d.prototype.rn=function(a){a.Ld&&this.Vj&&(a.yh=!0);this.Ri&&this.b.Yc&&
this.b.ua()};d.prototype.qp=function(a){this.b.Ia().bb=this;this.xa[a].ga()&&(this.Ii(),this.b.Ia().Ld=!0)};d.prototype.Ii=function(){var a=this.b.Ia(),b;a.Ma=0;for(b=this.Db.length;a.Ma<b;a.Ma++)if(this.Db[a.Ma].ga())return;this.jl()};d.prototype.op=function(){var a=this.b.Ia(),b;for(b=this.Db.length;a.Ma<b;a.Ma++)if(this.Db[a.Ma].ga())return;this.jl()};d.prototype.jl=function(){if(this.yb.length){var a,b,c,d,f=this.yb.length-1;this.b.Ai(this);if(this.ul)for(a=0,b=this.yb.length;a<b;a++)c=this.yb[a],
(d=!this.Rg||!this.group&&a<f)&&this.b.yi(c.R),c.ga(),d?this.b.ve(c.R):this.b.qh(c.R);else for(a=0,b=this.yb.length;a<b;a++)this.yb[a].ga();this.b.$k()}};d.prototype.rp=function(){var a=this.b.Ia();a.bb=this;var b=!1,c;a.Ha=0;for(c=this.xa.length;a.Ha<c;a.Ha++)if(this.xa[a.Ha].ga())b=!0;else if(!this.ac)return!1;return this.ac?b:!0};d.prototype.Io=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.xa[b].type===a.type)return!1;return!0};Lb=d;b.prototype.Y=function(){var a,b,c;a=0;
for(b=this.A.length;a<b;a++)c=this.A[a],c.Y(),c.Cb&&(this.Le=!0)};b.prototype.tp=function(){return!0};b.prototype.Ki=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.V[a]=this.A[a].get();return Ja(this.qa.apply(this.b.hc,this.V),this.Yh)};b.prototype.sp=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.V[a]=this.A[a].get();a=this.qa.apply(this.wd?this.wd:this.type,this.V);this.type.Pc();return a};b.prototype.Ji=function(){var a,b,c,d,f,g,m,k,h=this.type,r=h.N(),n=this.ab.ac&&!this.trigger;
b=0;var p=h.Lb,l=h.F,u=h.tc,w=this.Fb,t=-1<w,v=this.Le,y=this.A,z=this.V,O=this.Yh,B=this.qa,H;if(v)for(b=0,f=y.length;b<f;++b)g=y[b],g.Cb||(z[b]=g.get(0));else for(b=0,f=y.length;b<f;++b)z[b]=y[b].get(0);if(r.Q){r.d.length=0;r.G.length=0;H=h.d;a=0;for(d=H.length;a<d;++a){k=H[a];if(v)for(b=0,f=y.length;b<f;++b)g=y[b],g.Cb&&(z[b]=g.get(a));t?(b=0,l&&(b=k.type.ie[u]),b=B.apply(k.r[w+b],z)):b=B.apply(k,z);(m=Ja(b,O))?r.d.push(k):n&&r.G.push(k)}h.finish&&h.finish(!0);r.Q=!1;h.Pc();return r.Sh()}c=0;H=
(m=n&&!this.ab.Io(this))?r.G:r.d;var D=!1;a=0;for(d=H.length;a<d;++a){k=H[a];if(v)for(b=0,f=y.length;b<f;++b)g=y[b],g.Cb&&(z[b]=g.get(a));t?(b=0,l&&(b=k.type.ie[u]),b=B.apply(k.r[w+b],z)):b=B.apply(k,z);if(Ja(b,O))if(D=!0,m){if(r.d.push(k),p)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.N().d.push(g)}else{H[c]=k;if(p)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.N().d[c]=g;c++}else if(m){H[c]=k;if(p)for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.N().G[c]=g;c++}else if(n&&
(r.G.push(k),p))for(b=0,f=k.siblings.length;b<f;b++)g=k.siblings[b],g.type.N().G.push(g)}H.length=c;if(p)for(l=h.Pa,a=0,d=l.length;a<d;a++)k=l[a].N(),m?k.G.length=c:k.d.length=c;c=D;if(m&&!D)for(a=0,d=r.d.length;a<d;a++){k=r.d[a];if(v)for(b=0,f=y.length;b<f;b++)g=y[b],g.Cb&&(z[b]=g.get(a));b=t?B.apply(k.r[w],z):B.apply(k,z);if(Ja(b,O)){D=!0;break}}h.finish&&h.finish(c||n);return n?D:r.Sh()};Hb=b;f.prototype.Y=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.Y(),c.Cb&&(this.Le=!0)};
f.prototype.Ki=function(){var a=this.b,b,c,d=this.A,f=this.V;b=0;for(c=d.length;b<c;++b)f[b]=d[b].get();return this.qa.apply(a.hc,f)};f.prototype.Ji=function(){var a=this.type,b=this.Fb,c=a.tc,d=this.Le,f=this.A,g=this.V,m=this.qa,k=a.N().Hb(),a=a.F,h=-1<b,r,n,p,l,u,w;if(d)for(n=0,l=f.length;n<l;++n)u=f[n],u.Cb||(g[n]=u.get(0));else for(n=0,l=f.length;n<l;++n)g[n]=f[n].get(0);r=0;for(p=k.length;r<p;++r){w=k[r];if(d)for(n=0,l=f.length;n<l;++n)u=f[n],u.Cb&&(g[n]=u.get(r));h?(n=0,a&&(n=w.type.ie[c]),
m.apply(w.r[b+n],g)):m.apply(w,g)}return!1};Ib=f;var u=[],n=-1;a.prototype.Y=function(){var a,b;if(11===this.type)this.Cd=this.b.Oj(this.Mf,this.ab.parent);else if(13===this.type)for(a=0,b=this.Ud.length;a<b;a++)this.Ud[a].Y();this.Xb&&this.Xb.Y()};a.prototype.So=function(a){this.Cb||!a||a.na.Lg||(this.Cb=!0)};a.prototype.nl=function(){this.Cb=!0};a.prototype.po=function(a){this.Gc=a||0;a=g();this.Xb.get(a);n--;return a.data};a.prototype.qo=function(a){this.Gc=a||0;a=g();this.Xb.get(a);n--;return P(a.data)?
a.data:""};a.prototype.wo=function(){return this.object};a.prototype.no=function(){return this.zj};a.prototype.uo=function(a){this.Gc=a||0;a=g();this.Xb.get(a);n--;return a.ka()?this.b.$e(a.data):this.b.Nh(a.data)};a.prototype.vo=function(){return this.la};a.prototype.to=function(){return this.key};a.prototype.so=function(){return this.index};a.prototype.ro=function(a){a=a||0;var b=this.ub.type,c=null,c=b.N(),d=c.Hb();if(d.length)c=d[a%d.length].type;else if(c.G.length)c=c.G[a%c.G.length].type;else if(b.d.length)c=
b.d[a%b.d.length].type;else return 0;return this.index+c.Zf[b.tc]};a.prototype.oo=function(){return this.Cd};a.prototype.mo=function(){return this.Ij};a.prototype.xo=function(){var a,b;a=0;for(b=this.Ud.length;a<b;a++)this.Lf[a]=this.Ud[a].get();return this.Lf};Jb=a;k.prototype.Y=function(){this.R=p(this.R)};k.prototype.De=function(a){var b=this.b.Mj();this.parent&&!this.lf&&b?(this.Qd>=b.length&&(b.length=this.Qd+1),b[this.Qd]=a):this.data=a};k.prototype.Ed=function(){var a=this.b.Mj();return!this.parent||
this.lf||!a||this.lg?this.data:this.Qd>=a.length||"undefined"===typeof a[this.Qd]?this.ig:a[this.Qd]};k.prototype.ga=function(){!this.parent||this.lf||this.lg||this.De(this.ig)};Db=k;r.prototype.toString=function(){return"include:"+this.gf.toString()};r.prototype.Y=function(){this.gf=this.b.Ah[this.Co];this.sheet.Wj.add(this);this.R=p(this.R);for(var a=this.parent;a;)a.group&&a.Pf.push(this),a=a.parent;this.Pl()};r.prototype.ga=function(){this.parent&&this.b.Df(this.b.i);this.gf.Th||this.gf.ga(!0);
this.parent&&this.b.ve(this.b.i)};r.prototype.Pl=function(){for(var a=this.parent;a;){if(a.group&&!a.df){this.$a=!1;return}a=a.parent}this.$a=!0};Mb=r;m.prototype.reset=function(a){this.bb=a;this.Ma=this.Ha=0;this.xl.length=0;this.yh=this.Ld=!1};Cb=m})();
(function(){function l(c,b){this.ub=c;this.b=c.b;this.type=b[0];this.get=[this.In,this.En,this.Rn,this.Un,this.tn,this.Sn,this.Mn,this.Bn,this.Ln,this.Qn,this.un,this.Pn,this.Cn,this.Nn,this.Jn,this.Kn,this.Fn,this.Gn,this.An,this.Tn,this.On,this.Hn,this.zn,this.Dn][this.type];var d=null;this.Bc=this.A=this.V=this.qa=this.Qg=this.second=this.first=this.value=null;this.Fb=-1;this.Ib=null;this.Sl=-1;this.Cd=this.Mf=null;this.ze=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new W(c,b[1]);break;case 18:this.first=new W(c,b[1]);this.second=new W(c,b[2]);this.Qg=new W(c,b[3]);break;case 19:this.qa=this.b.Nc(b[1]);this.qa!==Y.prototype.sc.random&&this.qa!==Y.prototype.sc.Om||this.ub.nl();this.V=[];this.A=[];3===b.length?(d=b[2],this.V.length=d.length+1):this.V.length=1;break;case 20:this.Bc=this.b.i[b[1]];this.Fb=-1;this.qa=this.b.Nc(b[2]);this.ze=b[3];Ob.Function&&this.qa===Ob.Function.prototype.sc.Sp&&this.ub.nl();b[4]?this.Ib=new W(c,b[4]):this.Ib=null;this.V=[];this.A=
[];6===b.length?(d=b[5],this.V.length=d.length+1):this.V.length=1;break;case 21:this.Bc=this.b.i[b[1]];this.ze=b[2];b[3]?this.Ib=new W(c,b[3]):this.Ib=null;this.Sl=b[4];break;case 22:this.Bc=this.b.i[b[1]];this.Bc.dg(b[2]);this.Fb=this.Bc.Ih(b[2]);this.qa=this.b.Nc(b[3]);this.ze=b[4];b[5]?this.Ib=new W(c,b[5]):this.Ib=null;this.V=[];this.A=[];7===b.length?(d=b[6],this.V.length=d.length+1):this.V.length=1;break;case 23:this.Mf=b[1],this.Cd=null}this.ub.So(this.Bc);4<=this.type&&17>=this.type&&(this.first=
new W(c,b[1]),this.second=new W(c,b[2]));if(d){var g,a;g=0;for(a=d.length;g<a;g++)this.A.push(new W(c,d[g]))}}function h(){++d;v.length===d&&v.push(new Kb);return v[d]}function p(c,b,d){var g,a;g=0;for(a=c.length;g<a;++g)c[g].get(d),b[g+1]=d.data}function t(c,b){this.type=c||X.$d;this.data=b||0;this.Sd=null;this.type==X.$d&&(this.data=Math.floor(this.data))}l.prototype.Y=function(){23===this.type&&(this.Cd=this.ub.b.Oj(this.Mf,this.ub.ab.parent));this.first&&this.first.Y();this.second&&this.second.Y();
this.Qg&&this.Qg.Y();this.Ib&&this.Ib.Y();if(this.A){var c,b;c=0;for(b=this.A.length;c<b;c++)this.A[c].Y()}};var v=[],d=-1;l.prototype.Tn=function(c){var b=this.A,f=this.V;f[0]=c;c=h();p(b,f,c);--d;this.qa.apply(this.b.hc,f)};l.prototype.On=function(c){var b=this.Bc,f=this.V,g=this.A,a=this.Ib,k=this.qa,r=this.ub.Gc,m=b.N(),l=m.Hb();if(!l.length)if(m.G.length)l=m.G;else{this.ze?c.Xa(""):c.P(0);return}f[0]=c;c.Sd=b;c=h();p(g,f,c);a&&(a.get(c),c.ka()&&(r=c.data,l=b.d));--d;b=l.length;if(r>=b||r<=-b)r%=
b;0>r&&(r+=b);k.apply(l[r],f)};l.prototype.zn=function(c){var b=this.Bc,f=this.V,g=this.A,a=this.Ib,k=this.Fb,r=this.qa,m=this.ub.Gc,l=b.N(),u=l.Hb();if(!u.length)if(l.G.length)u=l.G;else{this.ze?c.Xa(""):c.P(0);return}f[0]=c;c.Sd=b;c=h();p(g,f,c);a&&(a.get(c),c.ka()&&(m=c.data,u=b.d));--d;g=u.length;if(m>=g||m<=-g)m%=g;0>m&&(m+=g);m=u[m];u=0;b.F&&(u=m.type.ie[b.tc]);r.apply(m.r[k+u],f)};l.prototype.Hn=function(c){var b=this.Ib,f=this.Bc,g=this.Sl,a=this.ub.Gc,k=f.N(),r=k.Hb();if(!r.length)if(k.G.length)r=
k.G;else{this.ze?c.Xa(""):c.P(0);return}if(b){k=h();b.get(k);if(k.ka()){a=k.data;f=f.d;a%=f.length;0>a&&(a+=f.length);g=f[a].ca[g];P(g)?c.Xa(g):c.n(g);--d;return}--d}b=r.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=r[a];r=0;f.F&&(r=a.type.Zf[f.tc]);g=a.ca[g+r];P(g)?c.Xa(g):c.n(g)};l.prototype.In=function(c){c.type=X.$d;c.data=this.value};l.prototype.En=function(c){c.type=X.Zd;c.data=this.value};l.prototype.Rn=function(c){c.type=X.String;c.data=this.value};l.prototype.Un=function(c){this.first.get(c);
c.ka()&&(c.data=-c.data)};l.prototype.tn=function(c){this.first.get(c);var b=h();this.second.get(b);c.ka()&&b.ka()&&(c.data+=b.data,b.me()&&c.se());--d};l.prototype.Sn=function(c){this.first.get(c);var b=h();this.second.get(b);c.ka()&&b.ka()&&(c.data-=b.data,b.me()&&c.se());--d};l.prototype.Mn=function(c){this.first.get(c);var b=h();this.second.get(b);c.ka()&&b.ka()&&(c.data*=b.data,b.me()&&c.se());--d};l.prototype.Bn=function(c){this.first.get(c);var b=h();this.second.get(b);c.ka()&&b.ka()&&(c.data/=
b.data,c.se());--d};l.prototype.Ln=function(c){this.first.get(c);var b=h();this.second.get(b);c.ka()&&b.ka()&&(c.data%=b.data,b.me()&&c.se());--d};l.prototype.Qn=function(c){this.first.get(c);var b=h();this.second.get(b);c.ka()&&b.ka()&&(c.data=Math.pow(c.data,b.data),b.me()&&c.se());--d};l.prototype.un=function(c){this.first.get(c);var b=h();this.second.get(b);b.oe()||c.oe()?this.wn(c,b):this.vn(c,b);--d};l.prototype.wn=function(c,b){c.oe()&&b.oe()?this.yn(c,b):this.xn(c,b)};l.prototype.yn=function(c,
b){c.data+=b.data};l.prototype.xn=function(c,b){c.oe()?c.data+=(Math.round(1E10*b.data)/1E10).toString():c.Xa(c.data.toString()+b.data)};l.prototype.vn=function(c,b){c.P(c.data&&b.data?1:0)};l.prototype.Pn=function(c){this.first.get(c);var b=h();this.second.get(b);c.ka()&&b.ka()&&(c.data||b.data?c.P(1):c.P(0));--d};l.prototype.An=function(c){this.first.get(c);c.data?this.second.get(c):this.Qg.get(c)};l.prototype.Cn=function(c){this.first.get(c);var b=h();this.second.get(b);c.P(c.data===b.data?1:0);
--d};l.prototype.Nn=function(c){this.first.get(c);var b=h();this.second.get(b);c.P(c.data!==b.data?1:0);--d};l.prototype.Jn=function(c){this.first.get(c);var b=h();this.second.get(b);c.P(c.data<b.data?1:0);--d};l.prototype.Kn=function(c){this.first.get(c);var b=h();this.second.get(b);c.P(c.data<=b.data?1:0);--d};l.prototype.Fn=function(c){this.first.get(c);var b=h();this.second.get(b);c.P(c.data>b.data?1:0);--d};l.prototype.Gn=function(c){this.first.get(c);var b=h();this.second.get(b);c.P(c.data>=
b.data?1:0);--d};l.prototype.Dn=function(c){var b=this.Cd.Ed();M(b)?c.n(b):c.Xa(b)};W=l;t.prototype.me=function(){return this.type===X.Zd};t.prototype.ka=function(){return this.type===X.$d||this.type===X.Zd};t.prototype.oe=function(){return this.type===X.String};t.prototype.se=function(){this.me()||(this.oe()&&(this.data=parseFloat(this.data)),this.type=X.Zd)};t.prototype.P=function(c){this.type=X.$d;this.data=Math.floor(c)};t.prototype.n=function(c){this.type=X.Zd;this.data=c};t.prototype.Xa=function(c){this.type=
X.String;this.data=c};t.prototype.xp=function(c){M(c)?(this.type=X.Zd,this.data=c):P(c)?(this.type=X.String,this.data=c.toString()):(this.type=X.$d,this.data=0)};Kb=t;X={$d:0,Zd:1,String:2}})();function Y(l){this.b=l;this.La=[]}
Y.prototype.Pb=function(){var l={},h,p,t,v,d,c,b,f;l.waits=[];var g=l.waits,a;h=0;for(p=this.La.length;h<p;h++){c=this.La[h];a={t:c.time,st:c.sl,s:c.Oi,ev:c.ge.D,sm:[],sols:{}};c.ge.Db[c.Ma]&&(a.act=c.ge.Db[c.Ma].D);t=0;for(v=c.R.length;t<v;t++)a.sm.push(c.R[t].D);for(d in c.Ea)if(c.Ea.hasOwnProperty(d)){b=this.b.i[parseInt(d,10)];f={sa:c.Ea[d].Ig,insts:[]};t=0;for(v=c.Ea[d].vc.length;t<v;t++)f.insts.push(c.Ea[d].vc[t].uid);a.sols[b.D.toString()]=f}g.push(a)}return l};
Y.prototype.Ac=function(l){l=l.waits;var h,p,t,v,d,c,b,f,g,a,k;h=this.La.length=0;for(p=l.length;h<p;h++)if(c=l[h],f=this.b.rj[c.ev.toString()]){g=-1;t=0;for(v=f.Db.length;t<v;t++)if(f.Db[t].D===c.act){g=t;break}if(-1!==g){b={Ea:{},R:[],xh:!1};b.time=c.t;b.sl=c.st||"";b.Oi=!!c.s;b.ge=f;b.Ma=g;t=0;for(v=c.sm.length;t<v;t++)(f=this.b.fg(c.sm[t]))&&b.R.push(f);for(d in c.sols)if(c.sols.hasOwnProperty(d)&&(f=this.b.fg(parseInt(d,10)))){g=c.sols[d];a={Ig:g.sa,vc:[]};t=0;for(v=g.insts.length;t<v;t++)(k=
this.b.Sj(g.insts[t]))&&a.vc.push(k);b.Ea[f.index.toString()]=a}this.La.push(b)}}};
(function(){function l(){}function h(){}function p(){}var t=Y.prototype;l.prototype.cm=function(){return!0};l.prototype.dj=function(){return!0};l.prototype.om=function(){return!0};l.prototype.zm=function(){var c=this.b.Jh().I;"undefined"===typeof c.TriggerOnce_lastTick&&(c.TriggerOnce_lastTick=-1);var b=c.TriggerOnce_lastTick,d=this.b.ic;c.TriggerOnce_lastTick=d;return this.b.gi||b!==d-1};l.prototype.am=function(c){var b=this.b.Jh(),d=b.I.Every_lastTime||0,g=this.b.cd.oa;"undefined"===typeof b.I.Every_seconds&&
(b.I.Every_seconds=c);var a=b.I.Every_seconds;if(g>=d+a)return b.I.Every_lastTime=d+a,g>=b.I.Every_lastTime+.04&&(b.I.Every_lastTime=g),b.I.Every_seconds=c,!0;g<d-.1&&(b.I.Every_lastTime=g);return!1};l.prototype.Zl=function(c,b,d){return Nb(c.Ed(),b,d)};l.prototype.$l=function(){var c=this.b.Ia();return c.yh?!1:!c.Ld};l.prototype.ej=function(){return!0};l.prototype.lm=function(){return!0};l.prototype.$g=function(){return!0};l.prototype.pm=function(){return!0};l.prototype.Yg=function(){return!0};l.prototype.Vl=
function(c,b,d){return Ga(T(c),T(d))<=T(b)};l.prototype.fm=function(c,b){return V(T(c),T(b))};l.prototype.em=function(c,b,d){c=Ea(c);b=Ea(b);d=Ea(d);return V(d,b)?V(c,b)&&!V(c,d):!(!V(c,b)&&V(c,d))};t.q=new l;h.prototype.dm=function(c){this.b.mf||this.b.Se||(this.b.Se=c)};h.prototype.Ul=function(c,b){0===c.$i?M(b)?c.De(c.Ed()+b):c.De(c.Ed()+parseFloat(b)):1===c.$i&&c.De(c.Ed()+b.toString())};h.prototype.xm=function(c,b){0===c.$i&&(M(b)?c.De(c.Ed()-b):c.De(c.Ed()-parseFloat(b)))};var v=[],d=[];h.prototype.Am=
function(c){if(!(0>c)){var b,f,g,a=this.b.Ia(),k;v.length?k=v.pop():k={Ea:{},R:[]};k.xh=!1;k.time=this.b.cd.oa+c;k.sl="";k.Oi=!1;k.ge=a.bb;k.Ma=a.Ma+1;c=0;for(b=this.b.i.length;c<b;c++)g=this.b.i[c],f=g.N(),f.Q&&-1===a.bb.R.indexOf(g)||(k.R.push(g),g=void 0,d.length?g=d.pop():g={vc:[]},g.Ig=!1,g.Ig=f.Q,va(g.vc,f.d),k.Ea[c.toString()]=g);this.La.push(k);return!0}};h.prototype.tm=function(){var c,b,d;c=0;for(b=this.b.ah.length;c<b;c++)d=this.b.ah[c],d.data=d.ig};t.Na=new h;p.prototype["int"]=function(c,
b){P(b)?(c.P(parseInt(b,10)),isNaN(c.data)&&(c.data=0)):c.P(b)};p.prototype["float"]=function(c,b){P(b)?(c.n(parseFloat(b)),isNaN(c.data)&&(c.data=0)):c.n(b)};p.prototype.random=function(c,b,d){void 0===d?c.n(Math.random()*b):c.n(Math.random()*(d-b)+b)};p.prototype.sqrt=function(c,b){c.n(Math.sqrt(b))};p.prototype.abs=function(c,b){c.n(Math.abs(b))};p.prototype.round=function(c,b){c.P(Math.round(b))};p.prototype.floor=function(c,b){c.P(Math.floor(b))};p.prototype.ceil=function(c,b){c.P(Math.ceil(b))};
p.prototype.sin=function(c,b){c.n(Math.sin(T(b)))};p.prototype.cos=function(c,b){c.n(Math.cos(T(b)))};p.prototype.tan=function(c,b){c.n(Math.tan(T(b)))};p.prototype.asin=function(c,b){c.n(Aa(Math.asin(b)))};p.prototype.acos=function(c,b){c.n(Aa(Math.acos(b)))};p.prototype.atan=function(c,b){c.n(Aa(Math.atan(b)))};p.prototype.exp=function(c,b){c.n(Math.exp(b))};p.prototype.log10=function(c,b){c.n(Math.log(b)/Math.LN10)};p.prototype.max=function(c){var b=arguments[1];"number"!==typeof b&&(b=0);var d,
g,a;d=2;for(g=arguments.length;d<g;d++)a=arguments[d],"number"===typeof a&&b<a&&(b=a);c.n(b)};p.prototype.min=function(c){var b=arguments[1];"number"!==typeof b&&(b=0);var d,g,a;d=2;for(g=arguments.length;d<g;d++)a=arguments[d],"number"===typeof a&&b>a&&(b=a);c.n(b)};p.prototype.fe=function(c){c.n(this.b.fe)};p.prototype.Kf=function(c){c.n(this.b.Kf)};p.prototype.time=function(c){c.n(this.b.cd.oa)};p.prototype.ic=function(c){c.P(this.b.ic)};p.prototype.Bg=function(c){c.P(this.b.Bg)};p.prototype.Fh=
function(c){c.P(this.b.Fh)};p.prototype.j=function(c,b,d,g,a){c.n(Aa(Fa(b,d,g,a)))};p.prototype.left=function(c,b,d){c.Xa(P(b)?b.substr(0,d):"")};p.prototype.right=function(c,b,d){c.Xa(P(b)?b.substr(b.length-d):"")};p.prototype.replace=function(c,b,d,g){P(b)&&P(d)&&P(g)?c.Xa(b.replace(new RegExp(Sa(d),"gi"),g)):c.Xa(P(b)?b:"")};p.prototype.trim=function(c,b){c.Xa(P(b)?b.trim():"")};p.prototype.Om=function(c){var b=Q(Math.random()*(arguments.length-1));c.xp(arguments[b+1])};p.prototype.rh=function(c){c.n(this.b.rh/
1E3)};p.prototype.wg=function(c){c.n(this.b.wg)};t.sc=new p;t.pp=function(){var c,b,f,g,a,k,h=this.b.Ia();c=0;for(f=this.La.length;c<f;c++){g=this.La[c];if(-1===g.time){if(!g.Oi)continue}else if(g.time>this.b.cd.oa)continue;h.bb=g.ge;h.Ma=g.Ma;h.Ha=0;for(b in g.Ea)g.Ea.hasOwnProperty(b)&&(a=this.b.i[parseInt(b,10)].N(),k=g.Ea[b],a.Q=k.Ig,va(a.d,k.vc),a=k,a.vc.length=0,d.push(a));g.ge.op();this.b.qh(g.R);g.xh=!0}b=c=0;for(f=this.La.length;c<f;c++)g=this.La[c],this.La[b]=g,g.xh?(La(g.Ea),g.R.length=
0,v.push(g)):b++;this.La.length=b}})();
(function(){bb=function(h,l){var t=h[1],v=h[3],d=h[4],c=h[5],b=h[6],f=h[7],g=h[8];l.q||(l.q={});l.Na||(l.Na={});l.sc||(l.sc={});var a=l.q,k=l.Na,r=l.sc;v&&(a.Xp=function(a,b){return Nb(this.x,a,b)},a.Yp=function(a,b){return Nb(this.y,a,b)},a.fq=function(){var a=this.e;this.pa();var b=this.wa;return!(b.right<a.W||b.bottom<a.X||b.left>a.ba||b.top>a.aa)},a.gq=function(){this.pa();var a=this.wa,b=this.b.O;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.sq=function(a,b,c){var d=this.N(),
e=d.Hb();if(!e.length)return!1;var f=e[0],g=f,k=Ia(f.x,f.y,b,c),h,r,l;h=1;for(r=e.length;h<r;h++)if(f=e[h],l=Ia(f.x,f.y,b,c),0===a&&l<k||1===a&&l>k)k=l,g=f;d.Af(g);return!0},k.Lq=function(a){this.x!==a&&(this.x=a,this.ia())},k.Mq=function(a){this.y!==a&&(this.y=a,this.ia())},k.Hq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ia()},k.Iq=function(a,b){var c=a.io(this);if(c){var d;c.Mh?(d=c.Mh(b,!0),c=c.Mh(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ia()}},
k.lq=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.ia())},k.kq=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.ia())},r.Dm=function(a){a.n(this.x)},r.Em=function(a){a.n(this.y)},r.fe=function(a){a.n(this.b.Nj(this))});d&&(a.Wp=function(a,b){return Nb(this.width,a,b)},a.Tp=function(a,b){return Nb(this.height,a,b)},k.wm=function(a){this.width!==a&&(this.width=a,this.ia())},k.Eq=function(a){this.height!==a&&(this.height=a,this.ia())},k.Jq=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ia()},r.Qq=function(a){a.n(this.width)},r.aq=function(a){a.n(this.height)},r.Pp=function(a){this.pa();a.n(this.wa.left)},r.Rp=function(a){this.pa();a.n(this.wa.top)},r.Qp=function(a){this.pa();a.n(this.wa.right)},r.Op=function(a){this.pa();a.n(this.wa.bottom)});c&&(a.Vl=function(a,b){return Ga(this.j,T(b))<=T(a)},a.fm=function(a){return V(this.j,T(a))},a.em=function(a,b){var c=Ea(a),d=Ea(b),e=Ca(this.j);return V(d,c)?
V(e,c)&&!V(e,d):!(!V(e,c)&&V(e,d))},k.Aq=function(a){a=T(Ba(a));isNaN(a)||this.j===a||(this.j=a,this.ia())},k.wq=function(a){0===a||isNaN(a)||(this.j+=T(a),this.j=Ca(this.j),this.ia())},k.xq=function(a){0===a||isNaN(a)||(this.j-=T(a),this.j=Ca(this.j),this.ia())},k.yq=function(a,b){var c=Ha(this.j,T(b),T(a));isNaN(c)||this.j===c||(this.j=c,this.ia())},k.zq=function(a,b,c){a=Ha(this.j,Math.atan2(c-this.y,b-this.x),T(a));isNaN(a)||this.j===a||(this.j=a,this.ia())},k.Kq=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.j===c||(this.j=c,this.ia())},r.Np=function(a){a.n(Da(this.j))});t||(a.Up=function(a,b,c){return Nb(this.ca[a],b,c)},a.cq=function(a){return this.ca[a]},a.tq=function(a,b){var c=this.N(),d=c.Hb();if(!d.length)return!1;var e=d[0],f=e,g=e.ca[b],k,h,r;k=1;for(h=d.length;k<h;k++)if(e=d[k],r=e.ca[b],0===a&&r<g||1===a&&r>g)g=r,f=e;c.Af(f);return!0},a.rq=function(a){var b,c,d,e,f;if(this.b.Jh().Yh){f=this.N();if(f.Q)for(f.Q=!1,f.d.length=0,f.G.length=0,d=this.d,b=0,c=d.length;b<
c;b++)e=d[b],e.uid===a?f.G.push(e):f.d.push(e);else{d=b=0;for(c=f.d.length;b<c;b++)e=f.d[b],f.d[d]=e,e.uid===a?f.G.push(e):d++;f.d.length=d}this.Pc();return!!f.d.length}e=this.b.Sj(a);if(!e)return!1;f=this.N();if(!f.Q&&-1===f.d.indexOf(e))return!1;if(this.F)for(a=e.type.S,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Af(e),this.Pc(),!0}else if(e.type===this)return f.Af(e),this.Pc(),!0;return!1},a.mm=function(){return!0},a.nm=function(){return!0},k.Fq=function(a,b){var c=this.ca;M(c[a])?c[a]=M(b)?
b:parseFloat(b):P(c[a])&&(c[a]=P(b)?b:b.toString())},k.Mp=function(a,b){var c=this.ca;M(c[a])?c[a]=M(b)?c[a]+b:c[a]+parseFloat(b):P(c[a])&&(c[a]=P(b)?c[a]+b:c[a]+b.toString())},k.Nq=function(a,b){var c=this.ca;M(c[a])&&(c[a]=M(b)?c[a]-b:c[a]-parseFloat(b))},k.Bq=function(a,b){this.ca[a]=b?1:0},k.Oq=function(a){this.ca[a]=1-this.ca[a]},k.$p=function(){this.b.Yd(this)},k.hm||(k.hm=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.ug(this,b,!0);this.td&&this.td();if(this.r)for(a=0,b=this.r.length;a<
b;++a)c=this.r[a],c.td&&c.td()}),r.Zp=function(a){var b=a.Sd.d.length,c,d,e;c=0;for(d=this.b.Vb.length;c<d;c++)e=this.b.Vb[c],a.Sd.F?0<=e.type.S.indexOf(a.Sd)&&b++:e.type===a.Sd&&b++;a.P(b)},r.vq=function(a){a.P(a.Sd.N().Hb().length)},r.Pq=function(a){a.P(this.uid)},r.bq=function(a){a.P(this.cf())},r.Wl||(r.Wl=function(a){a.Xa(JSON.stringify(this.b.Li(this,!0)))}));b&&(a.hq=function(){return this.visible},k.vm=function(a){!a!==!this.visible&&(this.visible=a,this.b.M=!0)},a.Vp=function(a,b){return Nb(Ya(100*
this.opacity),a,b)},k.Gq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.M=!0)},r.Opacity=function(a){a.n(Ya(100*this.opacity))});f&&(a.dq=function(a){return a?this.e===a:!1},a.uq=function(a){var b=this.N(),c=b.Hb();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.e.index>e.e.index||d.e.index===e.e.index&&d.Yb()>e.Yb())e=d}else if(d.e.index<e.e.index||d.e.index===e.e.index&&d.Yb()<e.Yb())e=d;b.Af(e);return!0},k.oq=function(){var a=
this.e,b=a.d;b.length&&b[b.length-1]===this||(a.ye(this,!1),a.Ne(this,!1),this.b.M=!0)},k.mq=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.ye(this,!1),a.jp(this),this.b.M=!0)},k.nq=function(a){a&&a!=this.e&&(this.e.ye(this,!0),this.e=a,a.Ne(this,!0),this.b.M=!0)},k.Sq=function(a,b){var c=0===a;if(b){var d=b.bo(this);d&&d.uid!==this.uid&&(this.e.index!==d.e.index&&(this.e.ye(this,!0),this.e=d.e,d.e.Ne(this,!0)),this.e.To(this,d,c),this.b.M=!0)}},r.jq=function(a){a.P(this.e.Ok)},r.iq=function(a){a.Xa(this.e.name)},
r.Rq=function(a){a.P(this.Yb())});g&&(k.Cq=function(a,b){if(this.b.m){var c=this.type.Lh(b);if(!(0>c)){var d=1===a;this.Oc[c]!==d&&(this.Oc[c]=d,this.Jc(),this.b.M=!0)}}},k.Dq=function(a,b,c){if(this.b.m){var d=this.type.Lh(a);0>d||(a=this.type.p[d],d=this.U[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.m.lo(a.ta,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.$a&&(this.b.M=!0))))}})};ub=function(){this.lh=this.fh=!0;this.type.jj=!0;this.b.M=!0;var h,l,t=this.gh;h=0;for(l=t.length;h<l;++h)t[h](this);this.e.Qb&&
this.pa()};vb=function(h){h&&this.gh.push(h)};xb=function(){if(this.fh){var h=this.wa,l=this.xd;h.set(this.x,this.y,this.x+this.width,this.y+this.height);h.offset(-this.Sa*this.width,-this.Ta*this.height);this.j?(h.offset(-this.x,-this.y),l.ol(h,this.j),l.offset(this.x,this.y),l.sj(h)):l.Kg(h);h.normalize();this.fh=!1;this.Hp()}};var l=new S(0,0,0,0);yb=function(){if(this.e.Qb){var h=this.e.Wa,p=this.wa;l.set(h.Ya(p.left),h.Za(p.top),h.Ya(p.right),h.Za(p.bottom));this.Ja.Wf(l)||(this.Ja.right<this.Ja.left?
h.update(this,null,l):h.update(this,this.Ja,l),this.Ja.Qf(l),this.e.Fc=!0)}};zb=function(){if(this.lh&&this.Te){this.pa();var h=this.type.yj,p=this.wa;l.set(h.Ya(p.left),h.Za(p.top),h.Ya(p.right),h.Za(p.bottom));this.Tc.Wf(l)||(this.Tc.right<this.Tc.left?h.update(this,null,l):h.update(this,this.Tc,l),this.Tc.Qf(l),this.lh=!1)}};wb=function(h,l){return this.wa.ob(h,l)&&this.xd.ob(h,l)?this.Ub&&!this.Ub.Lo()?(this.Ub.Mm(this.width,this.height,this.j),this.Ub.ob(h-this.x,l-this.y)):!0:!1};qb=function(){this.type.Ug();
return this.Gd};Ab=function(){this.e.Yi();return this.Rb};Bb=function(){this.H.length=0;var h,l;h=0;for(l=this.Oc.length;h<l;h++)this.Oc[h]&&this.H.push(this.type.p[h]);this.Rl=!!this.H.length};rb=function(){return"Inst"+this.el};eb=function(h){if(h&&h.Lb&&h.type!=this){var l,t,v;l=0;for(t=h.siblings.length;l<t;l++)if(v=h.siblings[l],v.type==this)return v}h=this.N().Hb();return h.length?h[0]:null};fb=function(h){var l=this.N().Hb();return l.length?l[h.cf()%l.length]:null};db=function(){if(this.Fe&&
!this.F){var h,l;h=0;for(l=this.d.length;h<l;h++)this.d[h].Gd=h;var t=h,v=this.b.Vb;h=0;for(l=v.length;h<l;++h)v[h].type===this&&(v[h].Gd=t++);this.Fe=!1}};ob=function(h){if(h<this.d.length)return this.d[h];h-=this.d.length;var l=this.b.Vb,t,v;t=0;for(v=l.length;t<v;++t)if(l[t].type===this){if(0===h)return l[t];--h}return null};gb=function(){return this.pd[this.pc]};hb=function(){this.pc++;this.pc===this.pd.length?this.pd.push(new cb(this)):this.pd[this.pc].Q=!0};ib=function(){this.pc++;this.pc===
this.pd.length&&this.pd.push(new cb(this));var h=this.pd[this.pc],l=this.pd[this.pc-1];l.Q?h.Q=!0:(h.Q=!1,va(h.d,l.d),va(h.G,l.G))};jb=function(){this.pc--};kb=function(h){var l,t,v,d,c,b=0;if(!this.F)for(l=0,t=this.S.length;l<t;l++)for(c=this.S[l],v=0,d=c.Z.length;v<d;v++){if(h===c.Z[v].name)return this.I.lastBehIndex=b,c.Z[v];b++}l=0;for(t=this.Z.length;l<t;l++){if(h===this.Z[l].name)return this.I.lastBehIndex=b,this.Z[l];b++}return null};lb=function(h){return this.dg(h)?this.I.lastBehIndex:-1};
mb=function(h){var l,t;l=0;for(t=this.p.length;l<t;l++)if(this.p[l].name===h)return l;return-1};nb=function(){if(this.Lb&&!this.F){var h,l,t,v,d,c,b;this.Ug();c=this.N();var f=c.Q,g=(h=this.b.Ia())&&h.bb&&h.bb.ac;h=0;for(l=this.Pa.length;h<l;h++)if(d=this.Pa[h],d!==this&&(d.Ug(),b=d.N(),b.Q=f,!f)){b.d.length=c.d.length;t=0;for(v=c.d.length;t<v;t++)b.d[t]=d.Pj(c.d[t].Gd);if(g)for(b.G.length=c.G.length,t=0,v=c.G.length;t<v;t++)b.G[t]=d.Pj(c.G[t].Gd)}}};pb=function(){return"Type"+this.D};Nb=function(h,
l,t){if("undefined"===typeof h||"undefined"===typeof t)return!1;switch(l){case 0:return h===t;case 1:return h!==t;case 2:return h<t;case 3:return h<=t;case 4:return h>t;case 5:return h>=t;default:return!1}}})();var Wb={};function Zb(l){this.b=l}
(function(){function l(){}function h(){}var p=Zb.prototype;p.sd=function(d){this.na=d;this.b=d.b};p.sd.prototype.Ba=function(){};p.Sb=function(d){this.type=d;this.b=d.b;this.hh=Array(4);this.Gl=this.Sg=this.Ge=this.hd=this.gd=0;this.Rh=!1};var t=p.Sb.prototype;t.Ba=function(){var d=this;if(!this.b.za){jQuery(document).mousemove(function(b){d.Zo(b)});jQuery(document).mousedown(function(b){d.Yo(b)});jQuery(document).mouseup(function(b){d.$o(b)});jQuery(document).dblclick(function(b){d.Xo(b)});var c=
function(b){d.cp(b)};document.addEventListener("mousewheel",c,!1);document.addEventListener("DOMMouseScroll",c,!1)}};var v={left:0,top:0};t.Zo=function(d){var c=this.b.za?v:jQuery(this.b.canvas).offset();this.gd=d.pageX-c.left;this.hd=d.pageY-c.top};t.Jk=function(){return 0<this.b.Qa?!0:0<=this.gd&&0<=this.hd&&this.gd<this.b.width&&this.hd<this.b.height};t.Yo=function(d){this.Jk()&&(this.b.Qh&&!this.b.yc&&d.preventDefault(),this.hh[d.which]=!0,this.b.$c=!0,this.b.trigger(Zb.prototype.q.km,this),this.Ge=
d.which-1,this.Sg=0,this.b.trigger(Zb.prototype.q.cj,this),this.b.trigger(Zb.prototype.q.Zg,this),this.b.$c=!1)};t.$o=function(d){this.hh[d.which]&&(this.b.Qh&&!this.b.yc&&d.preventDefault(),this.b.Qh=!0,this.hh[d.which]=!1,this.b.$c=!0,this.Ge=d.which-1,this.b.trigger(Zb.prototype.q.qm,this),this.b.$c=!1)};t.Xo=function(d){this.Jk()&&(d.preventDefault(),this.b.$c=!0,this.Ge=d.which-1,this.Sg=1,this.b.trigger(Zb.prototype.q.cj,this),this.b.trigger(Zb.prototype.q.Zg,this),this.b.$c=!1)};t.cp=function(d){this.Gl=
0>(d.wheelDelta?d.wheelDelta:d.detail?-d.detail:0)?0:1;this.Rh=!1;this.b.$c=!0;this.b.trigger(Zb.prototype.q.rm,this);this.b.$c=!1;this.Rh&&$a(d)&&d.preventDefault()};l.prototype.cj=function(d,c){return d===this.Ge&&c===this.Sg};l.prototype.km=function(){return!0};l.prototype.qm=function(d){return d===this.Ge};l.prototype.Zg=function(d,c,b){return d!==this.Ge||c!==this.Sg?!1:this.b.Ap(b,this.gd,this.hd)};l.prototype.rm=function(d){this.Rh=!0;return d===this.Gl};p.q=new l;p.Na=new function(){};h.prototype.Dm=
function(d,c){var b,f,g,a,k;fa(c)?(b=this.b.$e(0),f=b.scale,g=b.Mc,a=b.Dc,k=b.j,b.scale=1,b.Mc=1,b.Dc=1,b.j=0,d.n(b.Oa(this.gd,this.hd,!0)),b.scale=f,b.Mc=g,b.Dc=a,b.j=k):(b=M(c)?this.b.$e(c):this.b.Nh(c))?d.n(b.Oa(this.gd,this.hd,!0)):d.n(0)};h.prototype.Em=function(d,c){var b,f,g,a,k;fa(c)?(b=this.b.$e(0),f=b.scale,g=b.Mc,a=b.Ec,k=b.j,b.scale=1,b.Mc=1,b.Ec=1,b.j=0,d.n(b.Oa(this.gd,this.hd,!1)),b.scale=f,b.Mc=g,b.Ec=a,b.j=k):(b=M(c)?this.b.$e(c):this.b.Nh(c))?d.n(b.Oa(this.gd,this.hd,!1)):d.n(0)};
p.sc=new h})();function Yb(l){this.b=l}
(function(){function l(){if(0===this.vh.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.Ee?c.drawImage(this.Ka,this.te,this.ue,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.Ka,0,0,this.width,this.height);this.vh=b.toDataURL("image/png")}return this.vh}function h(){}var p=Yb.prototype;p.sd=function(b){this.na=b;this.b=b.b};var t=p.sd.prototype;t.Ba=function(){if(!this.F){var b,c,a,d,h,m,p,t,n;this.Eb=[];this.ff=
!1;b=0;for(c=this.Fa.length;b<c;b++){h=this.Fa[b];p={};p.name=h[0];p.speed=h[1];p.loop=h[2];p.Fi=h[3];p.Hg=h[4];p.Xk=h[5];p.D=h[6];p.frames=[];a=0;for(d=h[7].length;a<d;a++)m=h[7][a],t={},t.Al=m[0],t.Bl=m[1],t.te=m[2],t.ue=m[3],t.width=m[4],t.height=m[5],t.duration=m[6],t.Sa=m[7],t.Ta=m[8],t.Uh=m[9],t.Dg=m[10],t.Yk=m[11],t.Ee=0!==t.width,t.vh="",t.Vq=l,n={left:0,top:0,right:1,bottom:1},t.Ni=n,t.Kc=null,(n=this.b.Xn(m[0]))?t.Ka=n:(t.Ka=new Image,t.Ka.Rm=m[0],t.Ka.Qm=m[1],t.Ka.Lm=null,this.b.Lp(t.Ka,
m[0])),p.frames.push(t),this.Eb.push(t);this.Fa[b]=p}}};t.Ql=function(){var b,c,a;b=0;for(c=this.d.length;b<c;b++)a=this.d[b],a.Tf=a.pb.Kc};t.ri=function(){if(!this.F){var b,c,a;b=0;for(c=this.Eb.length;b<c;++b)a=this.Eb[b],a.Ka.Lm=null,a.Kc=null;this.ff=!1;this.Ql()}};t.Tk=function(){if(!this.F&&this.d.length){var b,c,a;b=0;for(c=this.Eb.length;b<c;++b)a=this.Eb[b],a.Kc=this.b.m.qk(a.Ka,this.b.J,a.Yk);this.Ql()}};t.Po=function(){if(!this.F&&!this.ff&&this.b.m){var b,c,a;b=0;for(c=this.Eb.length;b<
c;++b)a=this.Eb[b],a.Kc=this.b.m.qk(a.Ka,this.b.J,a.Yk);this.ff=!0}};t.Nl=function(){if(!this.F&&!this.d.length&&this.ff){var b,c,a;b=0;for(c=this.Eb.length;b<c;++b)a=this.Eb[b],this.b.m.deleteTexture(a.Kc),a.Kc=null;this.ff=!1}};var v=[];t.bl=function(b){var c,a,d;c=v.length=0;for(a=this.Eb.length;c<a;++c)d=this.Eb[c].Ka,-1===v.indexOf(d)&&(b.drawImage(d,0,0),v.push(d))};p.Sb=function(b){this.type=b;this.b=b.b;b=this.type.Fa[0].frames[0].Dg;this.wb?this.Ub.Ff(b):this.Ub=new Ta(b)};var d=p.Sb.prototype;
d.Ba=function(){this.visible=0===this.Da[0];this.Te=0!==this.Da[3];1===this.type.Fa.length&&1===this.type.Fa[0].frames.length||0===this.type.Fa[0].speed||this.b.El(this);this.T=this.Lj(this.Da[1])||this.type.Fa[0];this.k=this.Da[2];0>this.k&&(this.k=0);this.k>=this.T.frames.length&&(this.k=this.T.frames.length-1);var b=this.T.frames[this.k];this.Ub.Ff(b.Dg);this.Sa=b.Sa;this.Ta=b.Ta;this.We=this.T.speed;this.wb?this.Tb.reset():this.Tb=new Ra;this.uc=this.Tb.oa;this.vd=!0;this.lc=0;this.ud=!0;this.ph=
this.hj="";this.Nm=0;this.oh=-1;this.type.Po();var c,a,d,h,m,l,p,b=0;for(c=this.type.Fa.length;b<c;b++)for(h=this.type.Fa[b],a=0,d=h.frames.length;a<d;a++)m=h.frames[a],0===m.width&&(m.width=m.Ka.width,m.height=m.Ka.height),m.Ee&&(p=m.Ka,l=m.Ni,l.left=m.te/p.width,l.top=m.ue/p.height,l.right=(m.te+m.width)/p.width,l.bottom=(m.ue+m.height)/p.height,0===m.te&&0===m.ue&&m.width===p.width&&m.height===p.height&&(m.Ee=!1));this.pb=this.T.frames[this.k];this.Tf=this.pb.Kc};d.Pb=function(){var b={a:this.T.D,
f:this.k,cas:this.We,fs:this.uc,ar:this.lc,at:this.Tb.oa};this.vd||(b.ap=this.vd);this.ud||(b.af=this.ud);return b};d.Ac=function(b){var c=this.$n(b.a);c&&(this.T=c);this.k=b.f;0>this.k&&(this.k=0);this.k>=this.T.frames.length&&(this.k=this.T.frames.length-1);this.We=b.cas;this.uc=b.fs;this.lc=b.ar;this.Tb.reset();this.Tb.oa=b.at;this.vd=b.hasOwnProperty("ap")?b.ap:!0;this.ud=b.hasOwnProperty("af")?b.af:!0;this.pb=this.T.frames[this.k];this.Tf=this.pb.Kc;this.Ub.Ff(this.pb.Dg);this.Sa=this.pb.Sa;
this.Ta=this.pb.Ta};d.eh=function(b){this.k=b?0:this.T.frames.length-1;this.vd=!1;this.hj=this.T.name;this.b.trigger(Yb.prototype.q.jm,this);this.b.trigger(Yb.prototype.q.im,this);this.lc=0};d.mj=function(){return this.Tb.oa};d.Wd=function(){this.Tb.add(this.b.Nj(this));this.ph.length&&this.Wm();0<=this.oh&&this.Xm();var b=this.Tb.oa,c=this.T,a=c.frames[this.k],d=a.duration/this.We;this.vd&&b>=this.uc+d&&(this.ud?this.k++:this.k--,this.uc+=d,this.k>=c.frames.length&&(c.Xk?(this.ud=!1,this.k=c.frames.length-
2):c.loop?this.k=c.Hg:(this.lc++,this.lc>=c.Fi?this.eh(!1):this.k=c.Hg)),0>this.k&&(c.Xk?(this.k=1,this.ud=!0,c.loop||(this.lc++,this.lc>=c.Fi&&this.eh(!0))):c.loop?this.k=c.Hg:(this.lc++,this.lc>=c.Fi?this.eh(!0):this.k=c.Hg)),0>this.k?this.k=0:this.k>=c.frames.length&&(this.k=c.frames.length-1),b>this.uc+c.frames[this.k].duration/this.We&&(this.uc=b),b=c.frames[this.k],this.ae(a,b),this.b.M=!0)};d.Lj=function(b){var c,a,d;c=0;for(a=this.type.Fa.length;c<a;c++)if(d=this.type.Fa[c],Za(d.name,b))return d;
return null};d.$n=function(b){var c,a,d;c=0;for(a=this.type.Fa.length;c<a;c++)if(d=this.type.Fa[c],d.D===b)return d;return null};d.Wm=function(){var b=this.T.frames[this.k],c=this.Lj(this.ph);this.ph="";!c||Za(c.name,this.T.name)&&this.vd||(this.T=c,this.We=c.speed,0>this.k&&(this.k=0),this.k>=this.T.frames.length&&(this.k=this.T.frames.length-1),1===this.Nm&&(this.k=0),this.vd=!0,this.uc=this.Tb.oa,this.ud=!0,this.ae(b,this.T.frames[this.k]),this.b.M=!0)};d.Xm=function(){var b=this.T.frames[this.k],
c=this.k;this.k=Q(this.oh);0>this.k&&(this.k=0);this.k>=this.T.frames.length&&(this.k=this.T.frames.length-1);c!==this.k&&(this.ae(b,this.T.frames[this.k]),this.uc=this.Tb.oa,this.b.M=!0);this.oh=-1};d.ae=function(b,c){var a=b.width,d=b.height,h=c.width,m=c.height;a!=h&&(this.width*=h/a);d!=m&&(this.height*=m/d);this.Sa=c.Sa;this.Ta=c.Ta;this.Ub.Ff(c.Dg);this.ia();this.pb=c;this.Tf=c.Kc;a=0;for(d=this.r.length;a<d;a++)h=this.r[a],h.bp&&h.bp(b,c);this.b.trigger(Yb.prototype.q.ae,this)};d.qc=function(b){b.globalAlpha=
this.opacity;var c=this.pb,a=c.Ee,d=c.Ka,h=this.x,m=this.y,l=this.width,p=this.height;if(0===this.j&&0<=l&&0<=p)h-=this.Sa*l,m-=this.Ta*p,this.b.kd&&(h=Math.round(h),m=Math.round(m)),a?b.drawImage(d,c.te,c.ue,c.width,c.height,h,m,l,p):b.drawImage(d,h,m,l,p);else{this.b.kd&&(h=Math.round(h),m=Math.round(m));b.save();var n=0<l?1:-1,e=0<p?1:-1;b.translate(h,m);1===n&&1===e||b.scale(n,e);b.rotate(this.j*n*e);h=0-this.Sa*ja(l);m=0-this.Ta*ja(p);a?b.drawImage(d,c.te,c.ue,c.width,c.height,h,m,ja(l),ja(p)):
b.drawImage(d,h,m,ja(l),ja(p));b.restore()}};d.Gb=function(b){b.hb(this.Tf);b.Ae(this.opacity);var c=this.pb,a=this.xd;if(this.b.kd){var d=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;c.Ee?b.ld(a.ib+d,a.jb+h,a.Ab+d,a.Bb+h,a.mb+d,a.nb+h,a.kb+d,a.lb+h,c.Ni):b.Gg(a.ib+d,a.jb+h,a.Ab+d,a.Bb+h,a.mb+d,a.nb+h,a.kb+d,a.lb+h)}else c.Ee?b.ld(a.ib,a.jb,a.Ab,a.Bb,a.mb,a.nb,a.kb,a.lb,c.Ni):b.Gg(a.ib,a.jb,a.Ab,a.Bb,a.mb,a.nb,a.kb,a.lb)};d.eo=function(b){var c=this.pb,a,d;a=0;for(d=c.Uh.length;a<d;a++)if(Za(b,
c.Uh[a][0]))return a;return-1};d.Mh=function(b,c){var a=this.pb,d=a.Uh,h;P(b)?h=this.eo(b):h=b-1;h=Q(h);if(0>h||h>=d.length)return c?this.x:this.y;var l=(d[h][1]-a.Sa)*this.width,d=d[h][2],d=(d-a.Ta)*this.height,a=Math.cos(this.j);h=Math.sin(this.j);var p=l*a-d*h,d=d*a+l*h,l=p+this.x,d=d+this.y;return c?l:d};var c=new E,b=!1;new S(0,0,0,0);t.finish=function(d){if(b){if(d){var g=this.b.Ia().bb.ac;d=null.N();var a=c.rd(),k,h;if(d.Q){d.Q=!1;d.d.length=a.length;k=0;for(h=a.length;k<h;k++)d.d[k]=a[k];
if(g)for(k=d.G.length=0,h=null.d.length;k<h;k++)a=null.d[k],c.contains(a)||d.G.push(a)}else if(g)for(g=d.d.length,d.d.length=g+a.length,k=0,h=a.length;k<h;k++)d.d[g+k]=a[k],za(d.G,a[k]);else va(d.d,a);null.Pc()}c.clear();b=!1}};h.prototype.im=function(b){return Za(this.hj,b)};h.prototype.jm=function(){return!0};h.prototype.ae=function(){return!0};p.q=new h;p.Na=new function(){};p.sc=new function(){}})();function $b(l){this.b=l}
(function(){function l(){return c.length?c.pop():{}}function h(b){var d,g;d=0;for(g=b.length;d<g;d++)c.push(b[d]);b.length=0}function p(){}var t=$b.prototype;t.Ba=function(){t.Na.wm=function(b){this.width!==b&&(this.width=b,this.Vd=!0,this.ia())}};t.sd=function(b){this.na=b;this.b=b.b};var v=t.sd.prototype;v.Ba=function(){};v.ri=function(){if(!this.F){var b,c,d;b=0;for(c=this.d.length;b<c;b++)d=this.d[b],d.$b=null,d.Rd=null,d.Va=null}};t.Sb=function(b){this.type=b;this.b=b.b;this.wb?this.ed.length=
0:this.ed=[];this.Vd=!0};v=t.Sb.prototype;v.Ba=function(){this.text=this.Da[0];this.visible=0===this.Da[1];this.font=this.Da[2];this.color=this.Da[3];this.hg=this.Da[4];this.Vg=this.Da[5];this.bj=0===this.Da[7];this.fi=this.qg=this.width;this.pg=this.height;this.ii=this.Da[8];this.ag=this.he="";this.yl=this.zl=this.Cf=0;this.dp();this.Va=this.Rd=this.$b=null;this.Mk=!1;this.qf=this.b.ic;this.wb?this.xe.set(0,0,1,1):this.xe=new S(0,0,1,1);this.b.m&&this.b.El(this)};v.dp=function(){var b=this.font.split(" "),
c;for(c=0;c<b.length;c++)if("pt"===b[c].substr(b[c].length-2,2)){this.Cf=parseInt(b[c].substr(0,b[c].length-2));this.Bi=Math.ceil(this.Cf/72*96)+4;0<c&&(this.ag=b[c-1]);this.he=b[c+1];for(c+=2;c<b.length;c++)this.he+=" "+b[c];break}};v.Pb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.hg,va:this.Vg,wr:this.bj,lho:this.ii,fn:this.he,fs:this.ag,ps:this.Cf,pxh:this.Bi,tw:this.zl,th:this.yl,lrt:this.qf}};v.Ac=function(b){this.text=b.t;this.font=b.f;this.color=b.c;this.hg=b.ha;this.Vg=
b.va;this.bj=b.wr;this.ii=b.lho;this.he=b.fn;this.ag=b.fs;this.Cf=b.ps;this.Bi=b.pxh;this.zl=b.tw;this.yl=b.th;this.qf=b.lrt;this.Vd=!0;this.fi=this.qg=this.width;this.pg=this.height};v.Wd=function(){if(this.b.m&&this.Va&&300<=this.b.ic-this.qf){var b=this.e;this.pa();var c=this.wa;if(c.right<b.W||c.bottom<b.X||c.left>b.ba||c.top>b.aa)this.b.m.deleteTexture(this.Va),this.$b=this.Rd=this.Va=null}};v.Cg=function(){this.$b=this.Rd=null;this.b.m&&this.Va&&this.b.m.deleteTexture(this.Va);this.Va=null};
v.mj=function(){this.font=this.ag+" "+this.Cf.toString()+"pt "+this.he;this.Vd=!0;this.b.M=!0};v.qc=function(b,c){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=c?1:this.opacity;var d=1;c&&(d=this.e.eb(),b.save(),b.scale(d,d));if(this.Vd||this.width!==this.fi)this.type.na.Bm(this.text,this.ed,b,this.width,this.bj),this.Vd=!1,this.fi=this.width;this.pa();var d=c?0:this.xd.ib,a=c?0:this.xd.jb;this.b.kd&&(d=d+.5|0,a=a+.5|0);0===this.j||c||(b.save(),b.translate(d,a),b.rotate(this.j),
a=d=0);var k=a+this.height,h=this.Bi,h=h+this.ii,l,p;1===this.Vg?a+=Math.max(this.height/2-this.ed.length*h/2,0):2===this.Vg&&(a+=Math.max(this.height-this.ed.length*h-2,0));for(p=0;p<this.ed.length&&!(l=d,1===this.hg?l=d+(this.width-this.ed[p].width)/2:2===this.hg&&(l=d+(this.width-this.ed[p].width)),b.fillText(this.ed[p].text,l,a),a+=h,a>=k-h);p++);(0!==this.j||c)&&b.restore();this.qf=this.b.ic};v.Gb=function(b){if(!(1>this.width||1>this.height)){var c=this.Vd||this.Mk;this.Mk=!1;var d=this.e.eb(),
a=this.e.cb(),k=this.xe,h=d*this.width,l=d*this.height,p=Math.ceil(h),t=Math.ceil(l),n=this.b.C/2,e=this.b.B/2;this.Rd||(this.$b=document.createElement("canvas"),this.$b.width=p,this.$b.height=t,this.qg=p,this.pg=t,c=!0,this.Rd=this.$b.getContext("2d"));if(p!==this.qg||t!==this.pg)this.$b.width=p,this.$b.height=t,this.Va&&(b.deleteTexture(this.Va),this.Va=null),c=!0;c&&(this.Rd.clearRect(0,0,p,t),this.qc(this.Rd,!0),this.Va||(this.Va=b.nc(p,t,this.b.J,this.b.yc)),b.Kp(this.$b,this.Va,this.b.yc));
this.qg=p;this.pg=t;b.hb(this.Va);b.Ae(this.opacity);b.ec();b.translate(-n,-e);b.jc();var q=this.xd,c=this.e.da(q.ib,q.jb,!0),n=this.e.da(q.ib,q.jb,!1),e=this.e.da(q.Ab,q.Bb,!0),v=this.e.da(q.Ab,q.Bb,!1),J=this.e.da(q.mb,q.nb,!0),x=this.e.da(q.mb,q.nb,!1),U=this.e.da(q.kb,q.lb,!0),q=this.e.da(q.kb,q.lb,!1);if(this.b.kd||0===this.j&&0===a)var Z=(c+.5|0)-c,F=(n+.5|0)-n,c=c+Z,n=n+F,e=e+Z,v=v+F,J=J+Z,x=x+F,U=U+Z,q=q+F;0===this.j&&0===a?(e=c+p,v=n,J=e,x=n+t,U=c,q=x,k.right=1,k.bottom=1):(k.right=h/p,k.bottom=
l/t);b.ld(c,n,e,v,J,x,U,q,k);b.ec();b.scale(d,d);b.Hi(-this.e.cb());b.translate((this.e.W+this.e.ba)/-2,(this.e.X+this.e.aa)/-2);b.jc();this.qf=this.b.ic}};var d=[];t.ym=function(b){d.length=0;for(var c="",g,a=0;a<b.length;)if(g=b.charAt(a),"\n"===g)c.length&&(d.push(c),c=""),d.push("\n"),++a;else if(" "===g||"\t"===g||"-"===g){do c+=b.charAt(a),a++;while(a<b.length&&(" "===b.charAt(a)||"\t"===b.charAt(a)));d.push(c);c=""}else a<b.length&&(c+=g,a++);c.length&&d.push(c)};var c=[];t.Bm=function(b,c,
d,a,k){if(b&&b.length)if(2>=a)h(c);else{if(100>=b.length&&-1===b.indexOf("\n")){var r=d.measureText(b).width;if(r<=a){h(c);c.push(l());c[0].text=b;c[0].width=r;return}}this.Cm(b,c,d,a,k)}else h(c)};t.Cm=function(b,f,g,a,k){k&&(this.ym(b),b=d);var h="",m,p,t,n=0;for(t=0;t<b.length;t++)"\n"===b[t]?(n>=f.length&&f.push(l()),p=f[n],p.text=h,p.width=g.measureText(h).width,n++,h=""):(m=h,h+=b[t],p=g.measureText(h).width,p>=a&&(n>=f.length&&f.push(l()),p=f[n],p.text=m,p.width=g.measureText(m).width,n++,
h=b[t],k||" "!==h||(h="")));h.length&&(n>=f.length&&f.push(l()),p=f[n],p.text=h,p.width=g.measureText(h).width,n++);for(t=n;t<f.length;t++)c.push(f[t]);f.length=n};t.q=new function(){};p.prototype.um=function(b){M(b)&&1E9>b&&(b=Math.round(1E10*b)/1E10);b=b.toString();this.text!==b&&(this.text=b,this.Vd=!0,this.b.M=!0)};t.Na=new p;t.sc=new function(){}})();
function Xb(){return[Zb,Yb,$b,Y.prototype.q.dj,Yb.prototype.Na.vm,Zb.prototype.q.Zg,Y.prototype.Na.Am,Y.prototype.Na.Ul,Y.prototype.q.cm,$b.prototype.Na.um,Y.prototype.q.am,Y.prototype.Na.xm,Y.prototype.q.Zl,Y.prototype.q.zm,Y.prototype.Na.dm,Y.prototype.Na.tm]};
